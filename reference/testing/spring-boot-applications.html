<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Testing Spring Boot Applications :: Spring Boot</title>
    <link rel="prev" href="spring-applications.html">
    <link rel="next" href="testcontainers.html">
    <meta name="generator" content="Antora 3.2.0-alpha.10">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/search.css">
    <link rel="stylesheet" href="../../_/css/vendor/page-search.css">
    <link rel="stylesheet" href="../../_/css/vendor/asciidoctor-tabs.css">

    <meta name="antora-ui-version" content="v0.4.21"> 
    <meta name="version" content="4.0.0">
    <meta name="generation" content="">
    <meta name="versioned-url" content="undefined/undefined/reference/testing/spring-boot-applications.html">
    <meta name="component" content="boot">
    <meta name="latest-version" content="false">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spring.io">
        <img
          id="springlogo"
          class="block"
          src="../../_/img/spring-logo.svg"
          alt="Spring"
        />
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Why Spring</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/why-spring"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/microservices"
            >Microservices</a>
            <a
              class="navbar-item"
              href="https://spring.io/reactive"
            >Reactive</a>
            <a class="navbar-item" href="https://spring.io/event-driven">Event
              Driven</a>
            <a class="navbar-item" href="https://spring.io/cloud">Cloud</a>
            <a class="navbar-item" href="https://spring.io/web-applications">Web
              Applications</a>
            <a
              class="navbar-item"
              href="https://spring.io/serverless"
            >Serverless</a>
            <a class="navbar-item" href="https://spring.io/batch">Batch</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/learn">Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/quickstart"
            >Quickstart</a>
            <a class="navbar-item" href="https://spring.io/guides">Guides</a>
            <a class="navbar-item" href="https://spring.io/blog">Blog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown" style="min-width: 280px">
            <a
              class="navbar-item"
              href="https://spring.io/projects"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-boot"
            >Spring Boot</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-framework"
            >Spring Framework</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud"
            >Spring Cloud</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud-dataflow"
            >Spring Cloud Data Flow</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-data"
            >Spring Data</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-integration"
            >Spring Integration</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-batch"
            >Spring Batch</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-security"
            >Spring Security</a>
            <a
              class="navbar-item navbar-item-special"
              href="https://spring.io/projects"
            >View all projects</a>
            <li class="navbar-item navbar-item-special-3">DEVELOPMENT TOOLS</li>
            <a class="navbar-item" href="https://spring.io/tools">Spring Tools 4</a>
            <a
              class="navbar-item navbar-item-special-2"
              href="https://start.spring.io"
            >Spring Initializr
              <svg
                class="external-link-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
              ><polyline
                  points="15 10.94 15 15 1 15 1 1 5.06 1"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><polyline
                  points="8.93 1 15 1 15 7.07"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><line
                  x1="15"
                  y1="1"
                  x2="8"
                  y2="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></line></svg></a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Academy</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.academy/courses"
            >Courses</a>
            <a
              class="navbar-item"
              href="https://spring.academy/learning-path"
            >Get Certified</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Solutions</a>
          <div class="navbar-dropdown lg">
            <a class="navbar-item" href="https://spring.io/solutions">Overview</a>
            <a class="navbar-item" href="https://spring.io/support">Spring Runtime</a>
            <a class="navbar-item" href="https://spring.io/consulting">Spring Consulting</a>
            <a class="navbar-item" href="https://spring.academy/teams">Spring Academy For Teams</a>
            <a class="navbar-item" href="https://spring.io/security">Security Advisories</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable is-community">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/community"
            >Overview</a>
            <a class="navbar-item" href="https://spring.io/events">Events</a>
            <a class="navbar-item" href="https://spring.io/team">Team</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
</script>
<div class="body">
<div class="nav-container" data-component="boot" data-version="4.0.0">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">Spring Boot</span>
  <span class="version">4.0.0</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
  </div><ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-home"  href="../../index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-book"  href="../../documentation.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-question"  href="../../community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-server"  href="../../system-requirements.html">System Requirements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-gift"  href="../../installing.html">Installing Spring Boot</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link navtree-icon-rocket"  href="../../upgrading.html">Upgrading Spring Boot</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../tutorial/index.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../tutorial/first-application/index.html">Developing Your First Spring Boot Application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../index.html">Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../using/index.html">Developing with Spring Boot</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/build-systems.html">Build Systems</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/structuring-your-code.html">Structuring Your Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/configuration-classes.html">Configuration Classes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/auto-configuration.html">Auto-configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/spring-beans-and-dependency-injection.html">Spring Beans and Dependency Injection</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/using-the-springbootapplication-annotation.html">Using the @SpringBootApplication Annotation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/running-your-application.html">Running Your Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/devtools.html">Developer Tools</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../using/packaging-for-production.html">Packaging Your Application for Production</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../features/index.html">Core Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/spring-application.html">SpringApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/external-config.html">Externalized Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/profiles.html">Profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/internationalization.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/aop.html">Aspect-Oriented Programming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/task-execution-and-scheduling.html">Task Execution and Scheduling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/dev-services.html">Development-time Services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/developing-auto-configuration.html">Creating Your Own Auto-configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/kotlin.html">Kotlin Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../features/ssl.html">SSL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../web/index.html">Web</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/servlet.html">Servlet Web Applications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/reactive.html">Reactive Web Applications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/graceful-shutdown.html">Graceful Shutdown</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/spring-security.html">Spring Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/spring-session.html">Spring Session</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/spring-graphql.html">Spring for GraphQL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../web/spring-hateoas.html">Spring HATEOAS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../data/index.html">Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../data/sql.html">SQL Databases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../data/nosql.html">Working with NoSQL Technologies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../io/index.html">IO</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/caching.html">Caching</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/spring-batch.html">Spring Batch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/hazelcast.html">Hazelcast</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/quartz.html">Quartz Scheduler</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/email.html">Sending Email</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/validation.html">Validation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/rest-client.html">Calling REST Services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/webservices.html">Web Services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../io/jta.html">Distributed Transactions With JTA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../messaging/index.html">Messaging</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/jms.html">JMS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/amqp.html">AMQP</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/kafka.html">Apache Kafka Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/pulsar.html">Apache Pulsar Support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/rsocket.html">RSocket</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/spring-integration.html">Spring Integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../messaging/websockets.html">WebSockets</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="index.html">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="test-modules.html">Test Modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="test-scope-dependencies.html">Test Scope Dependencies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="spring-applications.html">Testing Spring Applications</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link"  href="spring-boot-applications.html">Testing Spring Boot Applications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="testcontainers.html">Testcontainers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="test-utilities.html">Test Utilities</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../packaging/index.html">Packaging Spring Boot Applications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../packaging/efficient.html">Efficient Deployments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../packaging/aot-cache.html">AOT Cache</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../packaging/aot.html">Ahead-of-Time Processing With the JVM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../packaging/native-image/index.html">GraalVM Native Images</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link"  href="../packaging/native-image/introducing-graalvm-native-images.html">Introducing GraalVM Native Images</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link"  href="../packaging/native-image/advanced-topics.html">Advanced Native Images Topics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../packaging/checkpoint-restore.html">Checkpoint and Restore With the JVM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../packaging/container-images/index.html">Container Images</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link"  href="../packaging/container-images/efficient-images.html">Efficient Container Images</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link"  href="../packaging/container-images/dockerfiles.html">Dockerfiles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link"  href="../packaging/container-images/cloud-native-buildpacks.html">Cloud Native Buildpacks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../actuator/index.html">Production-ready Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/enabling.html">Enabling Production-ready Features</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/endpoints.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/monitoring.html">Monitoring and Management Over HTTP</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/jmx.html">Monitoring and Management over JMX</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/observability.html">Observability</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/loggers.html">Loggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/tracing.html">Tracing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/auditing.html">Auditing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/http-exchanges.html">Recording HTTP Exchanges</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/process-monitoring.html">Process Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../actuator/cloud-foundry.html">Cloud Foundry Support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../how-to/index.html">How-to Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/application.html">Spring Boot Application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/properties-and-configuration.html">Properties and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/webserver.html">Embedded Web Servers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/spring-mvc.html">Spring MVC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/jersey.html">Jersey</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/http-clients.html">HTTP Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/data-access.html">Data Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/data-initialization.html">Database Initialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/nosql.html">NoSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/messaging.html">Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/batch.html">Batch Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/actuator.html">Actuator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/hotswapping.html">Hot Swapping</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/build.html">Build</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/aot.html">Ahead-of-Time Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../how-to/native-image/index.html">GraalVM Native Applications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../how-to/native-image/developing-your-first-application.html">Developing Your First GraalVM Native Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../how-to/native-image/testing-native-applications.html">Testing GraalVM Native Images</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/aot-cache.html">AOT Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../how-to/deployment/index.html">Deploying Spring Boot Applications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../how-to/deployment/traditional-deployment.html">Traditional Deployment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../how-to/deployment/cloud.html">Deploying to the Cloud</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../how-to/deployment/installing.html">Installing Spring Boot Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../how-to/docker-compose.html">Docker Compose</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../build-tool-plugin/index.html">Build Tool Plugins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../maven-plugin/index.html">Maven Plugin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/using.html">Using the Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/goals.html">Goals</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/packaging.html">Packaging Executable Archives</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/build-image.html">Packaging OCI Images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/run.html">Running your Application with Maven</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/aot.html">Ahead-of-Time Processing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/integration-tests.html">Running Integration Tests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/build-info.html">Integrating with Actuator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../maven-plugin/help.html">Help Information</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../gradle-plugin/index.html">Gradle Plugin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/managing-dependencies.html">Managing Dependencies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/packaging.html">Packaging Executable Archives</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/packaging-oci-image.html">Packaging OCI Images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/publishing.html">Publishing your Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/running.html">Running your Application with Gradle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/aot.html">Ahead-of-Time Processing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/integrating-with-actuator.html">Integrating with Actuator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../gradle-plugin/reacting.html">Reacting to Other Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../build-tool-plugin/antlib.html">Spring Boot AntLib Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../build-tool-plugin/other-build-systems.html">Supporting Other Build Systems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../cli/index.html">Spring Boot CLI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../cli/installation.html">Installing the CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../cli/using-the-cli.html">Using the CLI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Rest APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../api/rest/actuator/index.html">Actuator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/auditevents.html">Audit Events (<code>auditevents</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/beans.html">Beans (<code>beans</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/caches.html">Caches (<code>caches</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/conditions.html">Conditions Evaluation Report (<code>conditions</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/configprops.html">Configuration Properties (<code>configprops</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/env.html">Environment (<code>env</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/flyway.html">Flyway (<code>flyway</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/health.html">Health (<code>health</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/heapdump.html">Heap Dump (<code>heapdump</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/httpexchanges.html">HTTP Exchanges (<code>httpexchanges</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/info.html">Info (<code>info</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/integrationgraph.html">Spring Integration Graph (<code>integrationgraph</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/liquibase.html">Liquibase (<code>liquibase</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/logfile.html">Log File (<code>logfile</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/loggers.html">Loggers (<code>loggers</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/mappings.html">Mappings (<code>mappings</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/metrics.html">Metrics (<code>metrics</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/prometheus.html">Prometheus (<code>prometheus</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/quartz.html">Quartz (<code>quartz</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/sbom.html">Software Bill of Materials (<code>sbom</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/scheduledtasks.html">Scheduled Tasks (<code>scheduledtasks</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/sessions.html">Sessions (<code>sessions</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/shutdown.html">Shutdown (<code>shutdown</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/startup.html">Application Startup (<code>startup</code>)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../api/rest/actuator/threaddump.html">Thread Dump (<code>threaddump</code>)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Java APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link link-external"  target="_blank" href="../../api/java/index.html">Spring Boot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link link-external"  target="_blank" href="../../gradle-plugin/api/java/index.html">Gradle Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link link-external"  target="_blank" href="../../maven-plugin/api/java/index.html">Maven Plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Kotlin APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link link-external"  target="_blank" href="../../api/kotlin/index.html">Spring Boot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Specifications</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../specification/configuration-metadata/index.html">Configuration Metadata</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/configuration-metadata/format.html">Metadata Format</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/configuration-metadata/manual-hints.html">Providing Manual Hints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/configuration-metadata/annotation-processor.html">Generating Your Own Metadata by Using the Annotation Processor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../specification/executable-jar/index.html">The Executable Jar Format</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/nested-jars.html">Nested JARs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/jarfile-class.html">Spring Boot&#8217;s &#8220;NestedJarFile&#8221; Class</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/launching.html">Launching Executable Jars</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/property-launcher.html">PropertiesLauncher Features</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/restrictions.html">Executable Jar Restrictions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../specification/executable-jar/alternatives.html">Alternative Single Jar Solutions</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../appendix/application-properties/index.html">Common Application Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link"  href="../../appendix/deprecated-application-properties/index.html">Deprecated Application Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/index.html">Auto-configuration Classes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-activemq.html">spring-boot-activemq</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-actuator-autoconfigure.html">spring-boot-actuator-autoconfigure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-amqp.html">spring-boot-amqp</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-artemis.html">spring-boot-artemis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-autoconfigure.html">spring-boot-autoconfigure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-batch.html">spring-boot-batch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-batch-jdbc.html">spring-boot-batch-jdbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-cache.html">spring-boot-cache</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-cassandra.html">spring-boot-cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-cloudfoundry.html">spring-boot-cloudfoundry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-couchbase.html">spring-boot-couchbase</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-cassandra.html">spring-boot-data-cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-commons.html">spring-boot-data-commons</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-couchbase.html">spring-boot-data-couchbase</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-elasticsearch.html">spring-boot-data-elasticsearch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-jdbc.html">spring-boot-data-jdbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-jpa.html">spring-boot-data-jpa</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-ldap.html">spring-boot-data-ldap</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-mongodb.html">spring-boot-data-mongodb</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-neo4j.html">spring-boot-data-neo4j</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-r2dbc.html">spring-boot-data-r2dbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-redis.html">spring-boot-data-redis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-data-rest.html">spring-boot-data-rest</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-devtools.html">spring-boot-devtools</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-elasticsearch.html">spring-boot-elasticsearch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-flyway.html">spring-boot-flyway</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-freemarker.html">spring-boot-freemarker</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-graphql.html">spring-boot-graphql</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-groovy-templates.html">spring-boot-groovy-templates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-gson.html">spring-boot-gson</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-h2console.html">spring-boot-h2console</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-hateoas.html">spring-boot-hateoas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-hazelcast.html">spring-boot-hazelcast</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-health.html">spring-boot-health</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-hibernate.html">spring-boot-hibernate</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-http-client.html">spring-boot-http-client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-http-codec.html">spring-boot-http-codec</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-http-converter.html">spring-boot-http-converter</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-integration.html">spring-boot-integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jackson.html">spring-boot-jackson</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jackson2.html">spring-boot-jackson2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jdbc.html">spring-boot-jdbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jersey.html">spring-boot-jersey</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jetty.html">spring-boot-jetty</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jms.html">spring-boot-jms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jooq.html">spring-boot-jooq</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-jsonb.html">spring-boot-jsonb</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-kafka.html">spring-boot-kafka</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-kotlinx-serialization-json.html">spring-boot-kotlinx-serialization-json</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-ldap.html">spring-boot-ldap</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-liquibase.html">spring-boot-liquibase</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-mail.html">spring-boot-mail</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-micrometer-metrics.html">spring-boot-micrometer-metrics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-micrometer-observation.html">spring-boot-micrometer-observation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-micrometer-tracing.html">spring-boot-micrometer-tracing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-micrometer-tracing-brave.html">spring-boot-micrometer-tracing-brave</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-micrometer-tracing-opentelemetry.html">spring-boot-micrometer-tracing-opentelemetry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-mongodb.html">spring-boot-mongodb</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-mustache.html">spring-boot-mustache</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-neo4j.html">spring-boot-neo4j</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-netty.html">spring-boot-netty</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-opentelemetry.html">spring-boot-opentelemetry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-persistence.html">spring-boot-persistence</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-pulsar.html">spring-boot-pulsar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-quartz.html">spring-boot-quartz</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-r2dbc.html">spring-boot-r2dbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-reactor.html">spring-boot-reactor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-reactor-netty.html">spring-boot-reactor-netty</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-restclient.html">spring-boot-restclient</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-resttestclient.html">spring-boot-resttestclient</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-rsocket.html">spring-boot-rsocket</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-security.html">spring-boot-security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-security-oauth2-authorization-server.html">spring-boot-security-oauth2-authorization-server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-security-oauth2-client.html">spring-boot-security-oauth2-client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-security-oauth2-resource-server.html">spring-boot-security-oauth2-resource-server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-security-saml2.html">spring-boot-security-saml2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-sendgrid.html">spring-boot-sendgrid</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-servlet.html">spring-boot-servlet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-session.html">spring-boot-session</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-session-data-redis.html">spring-boot-session-data-redis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-session-jdbc.html">spring-boot-session-jdbc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-testcontainers.html">spring-boot-testcontainers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-thymeleaf.html">spring-boot-thymeleaf</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-tomcat.html">spring-boot-tomcat</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-transaction.html">spring-boot-transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-validation.html">spring-boot-validation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-webclient.html">spring-boot-webclient</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-webflux.html">spring-boot-webflux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-webmvc.html">spring-boot-webmvc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-webservices.html">spring-boot-webservices</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-websocket.html">spring-boot-websocket</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/auto-configuration-classes/spring-boot-zipkin.html">spring-boot-zipkin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../appendix/test-auto-configuration/index.html">Test Auto-configuration Annotations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/test-auto-configuration/slices.html">Test Slices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link"  href="../../appendix/dependency-versions/index.html">Dependency Versions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/dependency-versions/coordinates.html">Managed Dependency Coordinates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link"  href="../../appendix/dependency-versions/properties.html">Version Properties</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Testing Spring Boot Applications"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
        <a href="file:///workspaces/spring-boot/documentation/spring-boot-docs/src/docs/antora/modules/reference/pages/testing/spring-boot-applications.adoc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          ><path
              d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"
            ></path></svg>
          Edit this Page
        </a>
        <a href="https://github.com/doc2401/spring-boot" title="GitHub">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="512px"
            id="Layer_1"
            version="1.1"
            viewBox="0 0 512 512"
            width="512px"
          ><style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style><g><path
                class="st0"
                d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"
              ></path></g></svg>
          GitHub Project
        </a>
        <a href="https://stackoverflow.com/tags/spring-boot">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path
              d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"
            ></path></svg>
          Stack Overflow
        </a>
    </div>
  </div>
</aside>
<article class="doc">
<div class="breadcrumbs-container">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
    <ul>
      <li id="copy-url" title="Copy versioned URL"></li>
      <li><a href="../../index.html">Spring Boot</a></li>
      <li><a href="../index.html">Reference</a></li>
      <li><a href="index.html">Testing</a></li>
      <li><a href="spring-boot-applications.html">Testing Spring Boot Applications</a></li>
    </ul>
  </nav>
</div><h1 id="page-title" class="page">Testing Spring Boot Applications</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A Spring Boot application is a Spring <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>, so nothing very special has to be done to test it beyond what you would normally do with a vanilla Spring context.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
External properties, logging, and other features of Spring Boot are installed in the context by default only if you use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringApplication.html" class="apiref"><code>SpringApplication</code></a> to create it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Spring Boot provides a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> annotation, which can be used as an alternative to the standard <code>spring-test</code> <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/ContextConfiguration.html" class="apiref"><code>@ContextConfiguration</code></a> annotation when you need Spring Boot features.
The annotation works by <a href="#testing.spring-boot-applications.detecting-configuration">creating the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> used in your tests through <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringApplication.html" class="apiref"><code>SpringApplication</code></a></a>.
In addition to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> a number of other annotations are also provided for <a href="#testing.spring-boot-applications.autoconfigured-tests">testing more specific slices</a> of an application.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are using JUnit 4, do not forget to also add <code>@RunWith(SpringRunner.class)</code> to your test, otherwise the annotations will be ignored.
If you are using JUnit 6, there is no need to add the equivalent <code>@ExtendWith(SpringExtension.class)</code> as <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> and the other <code>@&#8230;&#8203;Test</code> annotations are already annotated with it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> will not start a server.
You can use the <code>webEnvironment</code> attribute of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> to further refine how your tests run:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MOCK</code>(Default) : Loads a web <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> and provides a mock web environment.
Embedded servers are not started when using this annotation.
If a web environment is not available on your classpath, this mode transparently falls back to creating a regular non-web <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>.
It can be used in conjunction with <a href="#testing.spring-boot-applications.with-mock-environment"><code>@AutoConfigureMockMvc</code></a>, or <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/AutoConfigureWebTestClient.html" class="apiref"><code>@AutoConfigureWebTestClient</code></a>] for mock-based testing of your web application.</p>
</li>
<li>
<p><code>RANDOM_PORT</code>: Loads a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/context/WebServerApplicationContext.html" class="apiref"><code>WebServerApplicationContext</code></a> and provides a real web environment.
Embedded servers are started and listen on a random port.</p>
</li>
<li>
<p><code>DEFINED_PORT</code>: Loads a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/context/WebServerApplicationContext.html" class="apiref"><code>WebServerApplicationContext</code></a> and provides a real web environment.
Embedded servers are started and listen on a defined port (from your <code>application.properties</code>) or on the default port of <code>8080</code>.</p>
</li>
<li>
<p><code>NONE</code>: Loads an <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> by using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringApplication.html" class="apiref"><code>SpringApplication</code></a> but does not provide <em>any</em> web environment (mock or otherwise).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your test is <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/transaction/annotation/Transactional.html" class="apiref"><code>@Transactional</code></a>, it rolls back the transaction at the end of each test method by default.
However, as using this arrangement with either <code>RANDOM_PORT</code> or <code>DEFINED_PORT</code> implicitly provides a real servlet environment, the HTTP client and server run in separate threads and, thus, in separate transactions.
Any transaction initiated on the server does not roll back in this case.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> with <code>webEnvironment = WebEnvironment.RANDOM_PORT</code> will also start the management server on a separate random port if your application uses a different port for the management server.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.detecting-web-app-type"><a class="anchor" href="#testing.spring-boot-applications.detecting-web-app-type"></a>Detecting Web Application Type</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If Spring MVC is available, a regular MVC-based application context is configured.
If you have only Spring WebFlux, we will detect that and configure a WebFlux-based application context instead.</p>
</div>
<div class="paragraph">
<p>If both are present, Spring MVC takes precedence.
If you want to test a reactive web application in this scenario, you must set the <code>spring.main.web-application-type</code> property:</p>
</div>
<div id="_tabs_1" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_1_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_1_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_1_java--panel" class="tabpanel" aria-labelledby="_tabs_1_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.SpringBootTest;

</span><span class="fold-block">@SpringBootTest(properties = "spring.main.web-application-type=reactive")
class MyWebFluxTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_1_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_1_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.SpringBootTest

</span><span class="fold-block">@SpringBootTest(properties = ["spring.main.web-application-type=reactive"])
class MyWebFluxTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.detecting-configuration"><a class="anchor" href="#testing.spring-boot-applications.detecting-configuration"></a>Detecting Test Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are familiar with the Spring Test Framework, you may be used to using <code>@ContextConfiguration(classes=&#8230;&#8203;)</code> in order to specify which Spring <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> to load.
Alternatively, you might have often used nested <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> classes within your test.</p>
</div>
<div class="paragraph">
<p>When testing Spring Boot applications, this is often not required.
Spring Boot&#8217;s <code>@*Test</code> annotations search for your primary configuration automatically whenever you do not explicitly define one.</p>
</div>
<div class="paragraph">
<p>The search algorithm works up from the package that contains the test until it finds a class annotated with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a> or <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringBootConfiguration.html" class="apiref"><code>@SpringBootConfiguration</code></a>.
As long as you <a href="../using/structuring-your-code.html" class="xref page">structured your code</a> in a sensible way, your main configuration is usually found.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you use a <a href="#testing.spring-boot-applications.autoconfigured-tests">test annotation to test a more specific slice of your application</a>, you should avoid adding configuration settings that are specific to a particular area on the <a href="#testing.spring-boot-applications.user-configuration-and-slicing">main method&#8217;s application class</a>.</p>
</div>
<div class="paragraph">
<p>The underlying component scan configuration of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a> defines exclude filters that are used to make sure slicing works as expected.
If you are using an explicit <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/ComponentScan.html" class="apiref"><code>@ComponentScan</code></a> directive on your <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a>-annotated class, be aware that those filters will be disabled.
If you are using slicing, you should define them again.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to customize the primary configuration, you can use a nested <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> class.
Unlike a nested <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> class, which would be used instead of your application&#8217;s primary configuration, a nested <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> class is used in addition to your application&#8217;s primary configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring&#8217;s test framework caches application contexts between tests.
Therefore, as long as your tests share the same configuration (no matter how it is discovered), the potentially time-consuming process of loading the context happens only once.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.using-main"><a class="anchor" href="#testing.spring-boot-applications.using-main"></a>Using the Test Configuration Main Method</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Typically the test configuration discovered by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> will be your main <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a>.
In most well structured applications, this configuration class will also include the <code>main</code> method used to launch the application.</p>
</div>
<div class="paragraph">
<p>For example, the following is a very common code pattern for a typical Spring Boot application:</p>
</div>
<div id="_tabs_2" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_2_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_2_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_2_java--panel" class="tabpanel" aria-labelledby="_tabs_2_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

</span><span class="fold-block">@SpringBootApplication
public class MyApplication {

	public static void main(String[] args) {
		SpringApplication.run(MyApplication.class, args);
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_2_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_2_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.SpringBootApplication
import org.springframework.boot.docs.using.structuringyourcode.locatingthemainclass.MyApplication
import org.springframework.boot.runApplication

</span><span class="fold-block">@SpringBootApplication
class MyApplication

fun main(args: Array&lt;String&gt;) {
	runApplication&lt;MyApplication&gt;(*args)
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the example above, the <code>main</code> method doesn&#8217;t do anything other than delegate to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringApplication.html#run(java.lang.Class,java.lang.String&#8230;&#8203;)" class="apiref"><code>SpringApplication.run(Class, String&#8230;&#8203;)</code></a>.
It is, however, possible to have a more complex <code>main</code> method that applies customizations before calling <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringApplication.html#run(java.lang.Class,java.lang.String&#8230;&#8203;)" class="apiref"><code>SpringApplication.run(Class, String&#8230;&#8203;)</code></a>.</p>
</div>
<div class="paragraph">
<p>For example, here is an application that changes the banner mode and sets additional profiles:</p>
</div>
<div id="_tabs_3" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_3_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_3_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_3_java--panel" class="tabpanel" aria-labelledby="_tabs_3_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.Banner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

</span><span class="fold-block">@SpringBootApplication
public class MyApplication {

	public static void main(String[] args) {
		SpringApplication application = new SpringApplication(MyApplication.class);
		application.setBannerMode(Banner.Mode.OFF);
		application.setAdditionalProfiles("myprofile");
		application.run(args);
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_3_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_3_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.Banner
import org.springframework.boot.runApplication
import org.springframework.boot.autoconfigure.SpringBootApplication

</span><span class="fold-block">@SpringBootApplication
class MyApplication

fun main(args: Array&lt;String&gt;) {
	runApplication&lt;MyApplication&gt;(*args) {
		setBannerMode(Banner.Mode.OFF)
		setAdditionalProfiles("myprofile")
	}
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Since customizations in the <code>main</code> method can affect the resulting <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>, it&#8217;s possible that you might also want to use the <code>main</code> method to create the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> used in your tests.
By default, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> will not call your <code>main</code> method, and instead the class itself is used directly to create the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a></p>
</div>
<div class="paragraph">
<p>If you want to change this behavior, you can change the <code>useMainMethod</code> attribute of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.UseMainMethod.html#ALWAYS" class="apiref"><code>SpringBootTest.UseMainMethod.ALWAYS</code></a> or <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.UseMainMethod.html#WHEN_AVAILABLE" class="apiref"><code>SpringBootTest.UseMainMethod.WHEN_AVAILABLE</code></a>.
When set to <code>ALWAYS</code>, the test will fail if no <code>main</code> method can be found.
When set to <code>WHEN_AVAILABLE</code> the <code>main</code> method will be used if it is available, otherwise the standard loading mechanism will be used.</p>
</div>
<div class="paragraph">
<p>For example, the following test will invoke the <code>main</code> method of <code>MyApplication</code> in order to create the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>.
If the main method sets additional profiles then those will be active when the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> starts.</p>
</div>
<div id="_tabs_4" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_4_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_4_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_4_java--panel" class="tabpanel" aria-labelledby="_tabs_4_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.UseMainMethod;

</span><span class="fold-block">@SpringBootTest(useMainMethod = UseMainMethod.ALWAYS)
class MyApplicationTests {

	@Test
	void exampleTest() {
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_4_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_4_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.UseMainMethod

</span><span class="fold-block">@SpringBootTest(useMainMethod = UseMainMethod.ALWAYS)
class MyApplicationTests {

	@Test
	fun exampleTest() {
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.excluding-configuration"><a class="anchor" href="#testing.spring-boot-applications.excluding-configuration"></a>Excluding Test Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your application uses component scanning (for example, if you use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a> or <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/ComponentScan.html" class="apiref"><code>@ComponentScan</code></a>), you may find top-level configuration classes that you created only for specific tests accidentally get picked up everywhere.</p>
</div>
<div class="paragraph">
<p>As we <a href="#testing.spring-boot-applications.detecting-configuration">have seen earlier</a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> can be used on an inner class of a test to customize the primary configuration.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> can also be used on a top-level class. Doing so indicates that the class should not be picked up by scanning.
You can then import the class explicitly where it is required, as shown in the following example:</p>
</div>
<div id="_tabs_5" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_5_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_5_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_5_java--panel" class="tabpanel" aria-labelledby="_tabs_5_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.context.annotation.Import;

</span><span class="fold-block">@SpringBootTest
@Import(MyTestsConfiguration.class)
class MyTests {

	@Test
	void exampleTest() {
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_5_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_5_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.context.annotation.Import

</span><span class="fold-block">@SpringBootTest
@Import(MyTestsConfiguration::class)
class MyTests {

	@Test
	fun exampleTest() {
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you directly use <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/ComponentScan.html" class="apiref"><code>@ComponentScan</code></a> (that is, not through <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a>) you need to register the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/TypeExcludeFilter.html" class="apiref"><code>TypeExcludeFilter</code></a> with it.
See the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/TypeExcludeFilter.html" class="apiref"><code>TypeExcludeFilter</code></a> API documentation for details.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An imported <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> is processed earlier than an inner-class <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> and an imported <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/TestConfiguration.html" class="apiref"><code>@TestConfiguration</code></a> will be processed before any configuration found through component scanning.
Generally speaking, this difference in ordering has no noticeable effect but it is something to be aware of if you&#8217;re relying on bean overriding.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.using-application-arguments"><a class="anchor" href="#testing.spring-boot-applications.using-application-arguments"></a>Using Application Arguments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your application expects <a href="../features/spring-application.html#features.spring-application.application-arguments" class="xref page">arguments</a>, you can
have <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> inject them using the <code>args</code> attribute.</p>
</div>
<div id="_tabs_6" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_6_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_6_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_6_java--panel" class="tabpanel" aria-labelledby="_tabs_6_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.test.context.SpringBootTest;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@SpringBootTest(args = "--app.test=one")
class MyApplicationArgumentTests {

	@Test
	void applicationArgumentsPopulated(@Autowired ApplicationArguments args) {
		assertThat(args.getOptionNames()).containsOnly("app.test");
		assertThat(args.getOptionValues("app.test")).containsOnly("one");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_6_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_6_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.ApplicationArguments
import org.springframework.boot.test.context.SpringBootTest

</span><span class="fold-block">@SpringBootTest(args = ["--app.test=one"])
class MyApplicationArgumentTests {

	@Test
	fun applicationArgumentsPopulated(@Autowired args: ApplicationArguments) {
		assertThat(args.optionNames).containsOnly("app.test")
		assertThat(args.getOptionValues("app.test")).containsOnly("one")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.with-mock-environment"><a class="anchor" href="#testing.spring-boot-applications.with-mock-environment"></a>Testing With a Mock Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> does not start the server but instead sets up a mock environment for testing web endpoints.</p>
</div>
<div class="paragraph">
<p>With Spring MVC, we can query our web endpoints using <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/mockmvc.html"><code>MockMvc</code></a>.
The following integrations are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The regular <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/mockmvc/hamcrest.html"><code>MockMvc</code></a> that uses Hamcrest.</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/reference/7.0/testing/mockmvc/assertj.html"><code>MockMvcTester</code></a> that wraps <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> and uses AssertJ.</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/reference/7.0/testing/resttestclient.html"><code>RestTestClient</code></a> where <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> is plugged in as the server to handle requests with.</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-framework/reference/7.0/testing/webtestclient.html"><code>WebTestClient</code></a> where <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> is plugged in as the server to handle requests with.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example showcases the available integrations:</p>
</div>
<div id="_tabs_7" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_7_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_7_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_7_java--panel" class="tabpanel" aria-labelledby="_tabs_7_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.webmvc.test.autoconfigure.AutoConfigureMockMvc;
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient;
import org.springframework.test.web.reactive.server.WebTestClient;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.assertj.MockMvcTester;
import org.springframework.test.web.servlet.client.RestTestClient;
import org.springframework.test.web.servlet.client.RestTestClient.ResponseSpec;
import org.springframework.test.web.servlet.client.assertj.RestTestClientResponse;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

</span><span class="fold-block">@SpringBootTest
@AutoConfigureMockMvc
@AutoConfigureRestTestClient
@AutoConfigureWebTestClient
class MyMockMvcTests {

	@Test
	void testWithMockMvc(@Autowired MockMvc mvc) throws Exception {
		mvc.perform(get("/"))
				.andExpect(status().isOk())
				.andExpect(content().string("Hello World"));
	}

	@Test // If AssertJ is on the classpath, you can use MockMvcTester
	void testWithMockMvcTester(@Autowired MockMvcTester mvc) {
		assertThat(mvc.get().uri("/"))
				.hasStatusOk()
				.hasBodyTextEqualTo("Hello World");
	}

	@Test
	void testWithRestTestClient(@Autowired RestTestClient webClient) {
		webClient
				.get().uri("/")
				.exchange()
				.expectStatus().isOk()
				.expectBody(String.class).isEqualTo("Hello World");
	}

	@Test // If you prefer AssertJ, dedicated assertions are available
	void testWithRestTestClientAssertJ(@Autowired RestTestClient webClient) {
		ResponseSpec spec = webClient.get().uri("/").exchange();
		RestTestClientResponse response = RestTestClientResponse.from(spec);
		assertThat(response).hasStatusOk()
				.bodyText().isEqualTo("Hello World");
	}

	@Test // If Spring WebFlux is on the classpath
	void testWithWebTestClient(@Autowired WebTestClient webClient) {
		webClient
				.get().uri("/")
				.exchange()
				.expectStatus().isOk()
				.expectBody(String.class).isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_7_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_7_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.webmvc.test.autoconfigure.AutoConfigureMockMvc
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient
import org.springframework.test.web.reactive.server.WebTestClient
import org.springframework.test.web.reactive.server.expectBody
import org.springframework.test.web.servlet.MockMvc
import org.springframework.test.web.servlet.assertj.MockMvcTester
import org.springframework.test.web.servlet.client.RestTestClient
import org.springframework.test.web.servlet.client.assertj.RestTestClientResponse
import org.springframework.test.web.servlet.client.expectBody
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get
import org.springframework.test.web.servlet.result.MockMvcResultMatchers.content
import org.springframework.test.web.servlet.result.MockMvcResultMatchers.status

</span><span class="fold-block">@SpringBootTest
@AutoConfigureMockMvc
@AutoConfigureRestTestClient
@AutoConfigureWebTestClient
class MyMockMvcTests {

	@Test
	fun testWithMockMvc(@Autowired mvc: MockMvc) {
		mvc.perform(get("/"))
			.andExpect(status().isOk())
			.andExpect(content().string("Hello World"))
	}

	@Test // If AssertJ is on the classpath, you can use MockMvcTester
	fun testWithMockMvcTester(@Autowired mvc: MockMvcTester) {
		assertThat(mvc.get().uri("/")).hasStatusOk()
			.hasBodyTextEqualTo("Hello World")
	}

	@Test
	fun testWithRestTestClient(@Autowired webClient: RestTestClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Hello World")
	}

	@Test // If you prefer AssertJ, dedicated assertions are available
	fun testWithRestTestClientAssertJ(@Autowired webClient: RestTestClient) {
		val spec = webClient.get().uri("/").exchange()
		val response = RestTestClientResponse.from(spec)
		assertThat(response).hasStatusOk().bodyText().isEqualTo("Hello World")
	}


	@Test // If Spring WebFlux is on the classpath
	fun testWithWebTestClient(@Autowired webClient: WebTestClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you want to focus only on the web layer and not start a complete <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>, consider <a href="#testing.spring-boot-applications.spring-mvc-tests">using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> instead</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With Spring WebFlux endpoints, you can use <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/webtestclient.html"><code>WebTestClient</code></a> as shown in the following example:</p>
</div>
<div id="_tabs_8" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_8_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_8_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_8_java--panel" class="tabpanel" aria-labelledby="_tabs_8_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient;
import org.springframework.test.web.reactive.server.WebTestClient;

</span><span class="fold-block">@SpringBootTest
@AutoConfigureWebTestClient
class MyMockWebTestClientTests {

	@Test
	void exampleTest(@Autowired WebTestClient webClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk()
			.expectBody(String.class).isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_8_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_8_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient
import org.springframework.test.web.reactive.server.WebTestClient
import org.springframework.test.web.reactive.server.expectBody

</span><span class="fold-block">@SpringBootTest
@AutoConfigureWebTestClient
class MyMockWebTestClientTests {

	@Test
	fun exampleTest(@Autowired webClient: WebTestClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Testing within a mocked environment is usually faster than running with a full servlet container.
However, since mocking occurs at the Spring MVC layer, code that relies on lower-level servlet container behavior cannot be directly tested with MockMvc.</p>
</div>
<div class="paragraph">
<p>For example, Spring Boot&#8217;s error handling is based on the &#8220;error page&#8221; support provided by the servlet container.
This means that, whilst you can test your MVC layer throws and handles exceptions as expected, you cannot directly test that a specific <a href="../web/servlet.html#web.servlet.spring-mvc.error-handling.error-pages" class="xref page">custom error page</a> is rendered.
If you need to test these lower-level concerns, you can start a fully running server as described in the next section.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.with-running-server"><a class="anchor" href="#testing.spring-boot-applications.with-running-server"></a>Testing With a Running Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you need to start a full running server, we recommend that you use random ports.
If you use <code>@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)</code>, an available port is picked at random each time your test runs.</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/web/server/LocalServerPort.html" class="apiref"><code>@LocalServerPort</code></a> annotation can be used to <a href="../../how-to/webserver.html#howto.webserver.discover-port" class="xref page">inject the actual port used</a> into your test.</p>
</div>
<div class="paragraph">
<p>Tests that need to make REST calls to the started server can autowire a
<a href="https://docs.spring.io/spring-framework/reference/7.0/testing/resttestclient.html"><code>RestTestClient</code></a> by annotating the test class with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/resttestclient/autoconfigure/AutoConfigureRestTestClient.html" class="apiref"><code>@AutoConfigureRestTestClient</code></a>.</p>
</div>
<div class="paragraph">
<p>The configured client resolves relative links to the running server and comes with a dedicated API for verifying responses, as shown in the following example:</p>
</div>
<div id="_tabs_9" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_9_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_9_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_9_java--panel" class="tabpanel" aria-labelledby="_tabs_9_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.test.web.servlet.client.RestTestClient;

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureRestTestClient
class MyRandomPortRestTestClientTests {

	@Test
	void exampleTest(@Autowired RestTestClient webClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk()
			.expectBody(String.class).isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_9_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_9_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment
import org.springframework.test.web.servlet.client.RestTestClient
import org.springframework.test.web.servlet.client.expectBody

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureRestTestClient
class MyRandomPortRestTestClientTests {

	@Test
	fun exampleTest(@Autowired webClient: RestTestClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you prefer to use AssertJ, dedicated assertions are available from <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/client/assertj/RestTestClientResponse.html" class="apiref"><code>RestTestClientResponse</code></a>, as shown in the following example:</p>
</div>
<div id="_tabs_10" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_10_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_10_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_10_java--panel" class="tabpanel" aria-labelledby="_tabs_10_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.test.web.servlet.client.RestTestClient;
import org.springframework.test.web.servlet.client.RestTestClient.ResponseSpec;
import org.springframework.test.web.servlet.client.assertj.RestTestClientResponse;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureRestTestClient
class MyRandomPortRestTestClientAssertJTests {

	@Test
	void exampleTest(@Autowired RestTestClient webClient) {
		ResponseSpec spec = webClient.get().uri("/").exchange();
		RestTestClientResponse response = RestTestClientResponse.from(spec);
		assertThat(response).hasStatusOk().bodyText().isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_10_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_10_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureRestTestClient
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment
import org.springframework.test.web.servlet.client.RestTestClient
import org.springframework.test.web.servlet.client.assertj.RestTestClientResponse

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureRestTestClient
class MyRandomPortRestTestClientAssertJTests {

	@Test
	fun exampleTest(@Autowired webClient: RestTestClient) {
		val exchange = webClient.get().uri("/").exchange()
		val response = RestTestClientResponse.from(exchange)
		assertThat(response).hasStatusOk()
			.bodyText().isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you have <code>spring-webflux</code> on the classpath, you can also autowire a <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/webtestclient.html"><code>WebTestClient</code></a> by annotating the test class with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webtestclient/autoconfigure/AutoConfigureWebTestClient.html" class="apiref"><code>@AutoConfigureWebTestClient</code></a>.</p>
</div>
<div class="paragraph">
<p><code>WebTestClient</code> provides a similar API, as shown in the following example:</p>
</div>
<div id="_tabs_11" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_11_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_11_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_11_java--panel" class="tabpanel" aria-labelledby="_tabs_11_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient;
import org.springframework.test.web.reactive.server.WebTestClient;

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureWebTestClient
class MyRandomPortWebTestClientTests {

	@Test
	void exampleTest(@Autowired WebTestClient webClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk()
			.expectBody(String.class).isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_11_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_11_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment
import org.springframework.boot.webtestclient.autoconfigure.AutoConfigureWebTestClient
import org.springframework.test.web.reactive.server.WebTestClient
import org.springframework.test.web.reactive.server.expectBody

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureWebTestClient
class MyRandomPortWebTestClientTests {

	@Test
	fun exampleTest(@Autowired webClient: WebTestClient) {
		webClient
			.get().uri("/")
			.exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a> can also used with a <a href="#testing.spring-boot-applications.with-mock-environment">mock environment</a>, removing the need for a running server, by annotating your test class with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/AutoConfigureWebTestClient.html" class="apiref"><code>@AutoConfigureWebTestClient</code></a> from <code>spring-boot-webflux-test</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>spring-boot-resttestclient</code> modules also provides a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/resttestclient/TestRestTemplate.html" class="apiref"><code>TestRestTemplate</code></a> facility:</p>
</div>
<div id="_tabs_12" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_12_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_12_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_12_java--panel" class="tabpanel" aria-labelledby="_tabs_12_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.resttestclient.TestRestTemplate;
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureTestRestTemplate;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureTestRestTemplate
class MyRandomPortTestRestTemplateTests {

	@Test
	void exampleTest(@Autowired TestRestTemplate restTemplate) {
		String body = restTemplate.getForObject("/", String.class);
		assertThat(body).isEqualTo("Hello World");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_12_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_12_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment
import org.springframework.boot.resttestclient.TestRestTemplate
import org.springframework.boot.resttestclient.autoconfigure.AutoConfigureTestRestTemplate

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureTestRestTemplate
class MyRandomPortTestRestTemplateTests {

	@Test
	fun exampleTest(@Autowired restTemplate: TestRestTemplate) {
		val body = restTemplate.getForObject("/", String::class.java)
		assertThat(body).isEqualTo("Hello World")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.customizing-rest-test-client"><a class="anchor" href="#testing.spring-boot-applications.customizing-rest-test-client"></a>Customizing RestTestClient</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To customize the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/client/RestTestClient.html" class="apiref"><code>RestTestClient</code></a> bean, configure a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/server/test/client/RestTestClientBuilderCustomizer.html" class="apiref"><code>RestTestClientBuilderCustomizer</code></a> bean.
Any such beans are called with the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/client/RestTestClient.Builder.html" class="apiref"><code>RestTestClient.Builder</code></a> that is used to create the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/client/RestTestClient.html" class="apiref"><code>RestTestClient</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.customizing-web-test-client"><a class="anchor" href="#testing.spring-boot-applications.customizing-web-test-client"></a>Customizing WebTestClient</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To customize the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a> bean, configure a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/web/reactive/server/WebTestClientBuilderCustomizer.html" class="apiref"><code>WebTestClientBuilderCustomizer</code></a> bean.
Any such beans are called with the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.Builder.html" class="apiref"><code>WebTestClient.Builder</code></a> that is used to create the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.jmx"><a class="anchor" href="#testing.spring-boot-applications.jmx"></a>Using JMX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As the test context framework caches context, JMX is disabled by default to prevent identical components to register on the same domain.
If such test needs access to an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.management/javax/management/MBeanServer.html" class="apiref"><code>MBeanServer</code></a>, consider marking it dirty as well:</p>
</div>
<div id="_tabs_13" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_13_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_13_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_13_java--panel" class="tabpanel" aria-labelledby="_tabs_13_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import javax.management.MBeanServer;

import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.annotation.DirtiesContext;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@SpringBootTest(properties = "spring.jmx.enabled=true")
@DirtiesContext
class MyJmxTests {

	@Autowired
	private MBeanServer mBeanServer;

	@Test
	void exampleTest() {
		assertThat(this.mBeanServer.getDomains()).contains("java.lang");
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_13_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_13_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import javax.management.MBeanServer

import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.test.annotation.DirtiesContext

</span><span class="fold-block">@SpringBootTest(properties = ["spring.jmx.enabled=true"])
@DirtiesContext
class MyJmxTests(@Autowired val mBeanServer: MBeanServer) {

	@Test
	fun exampleTest() {
		assertThat(mBeanServer.domains).contains("java.lang")
		// ...
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.observations"><a class="anchor" href="#testing.spring-boot-applications.observations"></a>Using Observations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you annotate <a href="#testing.spring-boot-applications.autoconfigured-tests">a sliced test</a> with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/tracing/test/autoconfigure/AutoConfigureTracing.html" class="apiref"><code>@AutoConfigureTracing</code></a> from <code>spring-boot-micrometer-tracing-test</code> or with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/metrics/test/autoconfigure/AutoConfigureMetrics.html" class="apiref"><code>@AutoConfigureMetrics</code></a> from <code>spring-boot-micrometer-metrics-test</code>, it auto-configures an <a href="https://javadoc.io/doc/io.micrometer/micrometer-observation/1.16.0/io/micrometer/observation/ObservationRegistry.html" class="apiref"><code>ObservationRegistry</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.metrics"><a class="anchor" href="#testing.spring-boot-applications.metrics"></a>Using Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Regardless of your classpath, meter registries, except the in-memory backed, are not auto-configured when using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>.</p>
</div>
<div class="paragraph">
<p>If you need to export metrics to a different backend as part of an integration test, annotate it with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/metrics/test/autoconfigure/AutoConfigureMetrics.html" class="apiref"><code>@AutoConfigureMetrics</code></a>.</p>
</div>
<div class="paragraph">
<p>If you annotate <a href="#testing.spring-boot-applications.autoconfigured-tests">a sliced test</a> with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/metrics/test/autoconfigure/AutoConfigureMetrics.html" class="apiref"><code>@AutoConfigureMetrics</code></a>, it auto-configures an in-memory <a href="https://javadoc.io/doc/io.micrometer/micrometer-core/1.16.0/io/micrometer/core/instrument/MeterRegistry.html" class="apiref"><code>MeterRegistry</code></a>.
Data exporting in sliced tests is not supported with the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/metrics/test/autoconfigure/AutoConfigureMetrics.html" class="apiref"><code>@AutoConfigureMetrics</code></a> annotation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.tracing"><a class="anchor" href="#testing.spring-boot-applications.tracing"></a>Using Tracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Regardless of your classpath, tracing components which are reporting data are not auto-configured when using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>.</p>
</div>
<div class="paragraph">
<p>If you need those components as part of an integration test, annotate the test with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/tracing/test/autoconfigure/AutoConfigureTracing.html" class="apiref"><code>@AutoConfigureTracing</code></a>.</p>
</div>
<div class="paragraph">
<p>If you have created your own reporting components (e.g. a custom <a href="https://javadoc.io/doc/io.opentelemetry/opentelemetry-sdk-trace/1.55.0/io/opentelemetry/sdk/trace/export/SpanExporter.html" class="apiref"><code>SpanExporter</code></a> or <code>brave.handler.SpanHandler</code>) and you don&#8217;t want them to be active in tests, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/tracing/autoconfigure/ConditionalOnEnabledTracingExport.html" class="apiref"><code>@ConditionalOnEnabledTracingExport</code></a> annotation to disable them.</p>
</div>
<div class="paragraph">
<p>If you annotate <a href="#testing.spring-boot-applications.autoconfigured-tests">a sliced test</a> with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/tracing/test/autoconfigure/AutoConfigureTracing.html" class="apiref"><code>@AutoConfigureTracing</code></a> , it auto-configures a no-op <a href="https://javadoc.io/doc/io.micrometer/micrometer-tracing/1.6.0/io/micrometer/tracing/Tracer.html" class="apiref"><code>Tracer</code></a>.
Data exporting in sliced tests is not supported with the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/micrometer/tracing/test/autoconfigure/AutoConfigureTracing.html" class="apiref"><code>@AutoConfigureTracing</code></a> annotation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.mocking-beans"><a class="anchor" href="#testing.spring-boot-applications.mocking-beans"></a>Mocking and Spying Beans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When running tests, it is sometimes necessary to mock certain components within your application context.
For example, you may have a facade over some remote service that is unavailable during development.
Mocking can also be useful when you want to simulate failures that might be hard to trigger in a real environment.</p>
</div>
<div class="paragraph">
<p>Spring Framework includes a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/bean/override/mockito/MockitoBean.html" class="apiref"><code>@MockitoBean</code></a> annotation that can be used to define a Mockito mock for a bean inside your <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a>.
Additionally, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/bean/override/mockito/MockitoSpyBean.html" class="apiref"><code>@MockitoSpyBean</code></a> can be used to define a Mockito spy.
Learn more about these features in the <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/annotations/integration-spring/annotation-mockitobean.html">Spring Framework documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-tests"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-tests"></a>Auto-configured Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot&#8217;s auto-configuration system works well for applications but can sometimes be a little too much for tests.
It often helps to load only the parts of the configuration that are required to test a &#8220;slice&#8221; of your application.
For example, you might want to test that Spring MVC controllers are mapping URLs correctly, and you do not want to involve database calls in those tests, or you might want to test JPA entities, and you are not interested in the web layer when those tests run.</p>
</div>
<div class="paragraph">
<p>When combined with <code>spring-boot-test-autoconfigure</code>, Spring Boot&#8217;s <a href="test-modules.html" class="xref page">test modules</a> include a number of annotations that can be used to automatically configure such &#8220;slices&#8221;.
Each of them works in a similar way, providing a <code>@&#8230;&#8203;Test</code> annotation that loads the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="apiref"><code>ApplicationContext</code></a> and one or more <code>@AutoConfigure&#8230;&#8203;</code> annotations that can be used to customize auto-configuration settings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Each slice restricts component scan to appropriate components and loads a very restricted set of auto-configuration classes.
If you need to exclude one of them, most <code>@&#8230;&#8203;Test</code> annotations provide an <code>excludeAutoConfiguration</code> attribute.
Alternatively, you can use <code>@ImportAutoConfiguration#exclude</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Including multiple &#8220;slices&#8221; by using several <code>@&#8230;&#8203;Test</code> annotations in one test is not supported.
If you need multiple &#8220;slices&#8221;, pick one of the <code>@&#8230;&#8203;Test</code> annotations and include the <code>@AutoConfigure&#8230;&#8203;</code> annotations of the other &#8220;slices&#8221; by hand.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is also possible to use the <code>@AutoConfigure&#8230;&#8203;</code> annotations with the standard <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> annotation.
You can use this combination if you are not interested in &#8220;slicing&#8221; your application but you want some of the auto-configured test beans.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.json-tests"><a class="anchor" href="#testing.spring-boot-applications.json-tests"></a>Auto-configured JSON Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To test that object JSON serialization and deserialization is working as expected, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/JsonTest.html" class="apiref"><code>@JsonTest</code></a> annotation from the <code>spring-boot-test-autoconfigure</code> module.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/JsonTest.html" class="apiref"><code>@JsonTest</code></a> auto-configures the available supported JSON mapper, which can be one of the following libraries:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jackson <a href="https://javadoc.io/doc/tools.jackson.core/jackson-databind/3.0.2/tools/jackson/databind/JsonMapper.html" class="apiref"><code>JsonMapper</code></a>, any <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson/JacksonComponent.html" class="apiref"><code>@JacksonComponent</code></a> beans and any Jackson <a href="https://javadoc.io/doc/tools.jackson.core/jackson-databind/3.0.2/tools/jackson/databind/JacksonModule.html" class="apiref"><code>JacksonModule</code></a></p>
</li>
<li>
<p>Jackson 2 (deprecated) <a href="https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.20.1/com/fasterxml/jackson/databind/ObjectMapper.html" class="apiref"><code>ObjectMapper</code></a>, any <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson2/JsonComponent.html" class="apiref"><code>@JsonComponent</code></a> beans and any Jackson <a href="https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.20.1/com/fasterxml/jackson/databind/Module.html" class="apiref"><code>Module</code></a></p>
</li>
<li>
<p><code>Gson</code></p>
</li>
<li>
<p><code>Jsonb</code></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/JsonTest.html" class="apiref"><code>@JsonTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you need to configure elements of the auto-configuration, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/AutoConfigureJsonTesters.html" class="apiref"><code>@AutoConfigureJsonTesters</code></a> annotation.</p>
</div>
<div class="paragraph">
<p>Spring Boot includes AssertJ-based helpers that work with the JSONAssert and JsonPath libraries to check that JSON appears as expected.
The <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/JacksonTester.html" class="apiref"><code>JacksonTester</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/GsonTester.html" class="apiref"><code>GsonTester</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/JsonbTester.html" class="apiref"><code>JsonbTester</code></a>, and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/BasicJsonTester.html" class="apiref"><code>BasicJsonTester</code></a> classes can be used for Jackson, Gson, Jsonb, and Strings respectively.
Any helper fields on the test class can be <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html" class="apiref"><code>@Autowired</code></a> when using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/JsonTest.html" class="apiref"><code>@JsonTest</code></a>.
The following example shows a test class for Jackson:</p>
</div>
<div id="_tabs_14" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_14_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_14_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_14_java--panel" class="tabpanel" aria-labelledby="_tabs_14_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.json.JsonTest;
import org.springframework.boot.test.json.JacksonTester;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@JsonTest
class MyJsonTests {

	@Autowired
	private JacksonTester&lt;VehicleDetails&gt; json;

	@Test
	void serialize() throws Exception {
		VehicleDetails details = new VehicleDetails("Honda", "Civic");
		// Assert against a `.json` file in the same package as the test
		assertThat(this.json.write(details)).isEqualToJson("expected.json");
		// Or use JSON path based assertions
		assertThat(this.json.write(details)).hasJsonPathStringValue("@.make");
		assertThat(this.json.write(details)).extractingJsonPathStringValue("@.make").isEqualTo("Honda");
	}

	@Test
	void deserialize() throws Exception {
		String content = "{\"make\":\"Ford\",\"model\":\"Focus\"}";
		assertThat(this.json.parse(content)).isEqualTo(new VehicleDetails("Ford", "Focus"));
		assertThat(this.json.parseObject(content).getMake()).isEqualTo("Ford");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_14_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_14_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.autoconfigure.json.JsonTest
import org.springframework.boot.test.json.JacksonTester

</span><span class="fold-block">@JsonTest
class MyJsonTests(@Autowired val json: JacksonTester&lt;VehicleDetails&gt;) {

	@Test
	fun serialize() {
		val details = VehicleDetails("Honda", "Civic")
		// Assert against a `.json` file in the same package as the test
		assertThat(json.write(details)).isEqualToJson("expected.json")
		// Or use JSON path based assertions
		assertThat(json.write(details)).hasJsonPathStringValue("@.make")
		assertThat(json.write(details)).extractingJsonPathStringValue("@.make").isEqualTo("Honda")
	}

	@Test
	fun deserialize() {
		val content = "{\"make\":\"Ford\",\"model\":\"Focus\"}"
		assertThat(json.parse(content)).isEqualTo(VehicleDetails("Ford", "Focus"))
		assertThat(json.parseObject(content).make).isEqualTo("Ford")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
JSON helper classes can also be used directly in standard unit tests.
To do so, call the <code>initFields</code> method of the helper in your <a href="https://junit.org/junit5/docs/6.0.1/api/org.junit.jupiter.api/org/junit/jupiter/api/BeforeEach.html" class="apiref"><code>@BeforeEach</code></a> method if you do not use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/json/test/autoconfigure/JsonTest.html" class="apiref"><code>@JsonTest</code></a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you use Spring Boot&#8217;s AssertJ-based helpers to assert on a number value at a given JSON path, you might not be able to use <code>isEqualTo</code> depending on the type.
Instead, you can use AssertJ&#8217;s <code>satisfies</code> to assert that the value matches the given condition.
For instance, the following example asserts that the actual number is a float value close to <code>0.15</code> within an offset of <code>0.01</code>.</p>
</div>
<div id="_tabs_15" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_15_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_15_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_15_java--panel" class="tabpanel" aria-labelledby="_tabs_15_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">	@Test
	void someTest() throws Exception {
		SomeObject value = new SomeObject(0.152f);
		assertThat(this.json.write(value)).extractingJsonPathNumberValue("@.test.numberValue")
			.satisfies((number) -&gt; assertThat(number.floatValue()).isCloseTo(0.15f, within(0.01f)));
	}</code></pre>
</div>
</div>
</div>
<div id="_tabs_15_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_15_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">	@Test
	fun someTest() {
		val value = SomeObject(0.152f)
		assertThat(json.write(value)).extractingJsonPathNumberValue("@.test.numberValue")
			.satisfies(ThrowingConsumer { number -&gt;
				assertThat(number.toFloat()).isCloseTo(0.15f, within(0.01f))
			})
	}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.spring-mvc-tests"><a class="anchor" href="#testing.spring-boot-applications.spring-mvc-tests"></a>Auto-configured Spring MVC Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To test whether Spring MVC controllers are working as expected, use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> annotation from the <code>spring-boot-webmvc-test</code> module.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> auto-configures the Spring MVC infrastructure and limits scanned beans to <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Controller.html" class="apiref"><code>@Controller</code></a>,  <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html" class="apiref"><code>@ControllerAdvice</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson/JacksonComponent.html" class="apiref"><code>@JacksonComponent</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson2/JsonComponent.html" class="apiref"><code>@JsonComponent</code></a> (deprecated), <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/Converter.html" class="apiref"><code>Converter</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/GenericConverter.html" class="apiref"><code>GenericConverter</code></a>, <a href="https://jakarta.ee/specifications/servlet/6.1/apidocs/jakarta.servlet/jakarta/servlet/Filter.html" class="apiref"><code>Filter</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html" class="apiref"><code>HandlerInterceptor</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html" class="apiref"><code>WebMvcConfigurer</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/autoconfigure/WebMvcRegistrations.html" class="apiref"><code>WebMvcRegistrations</code></a>, and <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html" class="apiref"><code>HandlerMethodArgumentResolver</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you need to register extra components, such as a <a href="https://javadoc.io/doc/tools.jackson.core/jackson-databind/3.0.2/tools/jackson/databind/JacksonModule.html" class="apiref"><code>JacksonModule</code></a>, you can import additional configuration classes by using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> on your test.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Often, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> is limited to a single controller and is used in combination with <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/bean/override/mockito/MockitoBean.html" class="apiref"><code>@MockitoBean</code></a> to provide mock implementations for required collaborators.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> also auto-configures <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a>.
Mock MVC offers a powerful way to quickly test MVC controllers without needing to start a full HTTP server.
If AssertJ is available, the AssertJ support provided by <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/assertj/MockMvcTester.html" class="apiref"><code>MockMvcTester</code></a> is auto-configured as well.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also auto-configure <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> and <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/assertj/MockMvcTester.html" class="apiref"><code>MockMvcTester</code></a> in a non-<code>@WebMvcTest</code> (such as <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>) by annotating it with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/AutoConfigureMockMvc.html" class="apiref"><code>@AutoConfigureMockMvc</code></a>.
The following example uses <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/assertj/MockMvcTester.html" class="apiref"><code>MockMvcTester</code></a>:
</td>
</tr>
</table>
</div>
<div id="_tabs_16" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_16_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_16_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_16_java--panel" class="tabpanel" aria-labelledby="_tabs_16_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.bean.override.mockito.MockitoBean;
import org.springframework.test.web.servlet.assertj.MockMvcTester;

import static org.assertj.core.api.Assertions.assertThat;
import static org.mockito.BDDMockito.given;

</span><span class="fold-block">@WebMvcTest(UserVehicleController.class)
class MyControllerTests {

	@Autowired
	private MockMvcTester mvc;

	@MockitoBean
	private UserVehicleService userVehicleService;

	@Test
	void testExample() {
		given(this.userVehicleService.getVehicleDetails("sboot"))
			.willReturn(new VehicleDetails("Honda", "Civic"));
		assertThat(this.mvc.get().uri("/sboot/vehicle").accept(MediaType.TEXT_PLAIN))
			.hasStatusOk()
			.hasBodyTextEqualTo("Honda Civic");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_16_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_16_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.mockito.BDDMockito.given
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest
import org.springframework.http.MediaType
import org.springframework.test.context.bean.override.mockito.MockitoBean
import org.springframework.test.web.servlet.assertj.MockMvcTester

</span><span class="fold-block">@WebMvcTest(UserVehicleController::class)
class MyControllerTests(@Autowired val mvc: MockMvcTester) {

	@MockitoBean
	lateinit var userVehicleService: UserVehicleService

	@Test
	fun testExample() {
		given(userVehicleService.getVehicleDetails("sboot"))
				.willReturn(VehicleDetails("Honda", "Civic"))
		assertThat(mvc.get().uri("/sboot/vehicle").accept(MediaType.TEXT_PLAIN))
				.hasStatusOk().hasBodyTextEqualTo("Honda Civic")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you need to configure elements of the auto-configuration (for example, when servlet filters should be applied) you can use attributes in the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/AutoConfigureMockMvc.html" class="apiref"><code>@AutoConfigureMockMvc</code></a> annotation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you use HtmlUnit and Selenium, auto-configuration also provides an HtmlUnit <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html" class="apiref"><code>WebClient</code></a> bean and/or a Selenium <a href="https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html" class="apiref"><code>WebDriver</code></a> bean.
The following example uses HtmlUnit:</p>
</div>
<div id="_tabs_17" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_17_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_17_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_17_java--panel" class="tabpanel" aria-labelledby="_tabs_17_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.htmlunit.WebClient;
import org.htmlunit.html.HtmlPage;
import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest;
import org.springframework.test.context.bean.override.mockito.MockitoBean;

import static org.assertj.core.api.Assertions.assertThat;
import static org.mockito.BDDMockito.given;

</span><span class="fold-block">@WebMvcTest(UserVehicleController.class)
class MyHtmlUnitTests {

	@Autowired
	private WebClient webClient;

	@MockitoBean
	private UserVehicleService userVehicleService;

	@Test
	void testExample() throws Exception {
		given(this.userVehicleService.getVehicleDetails("sboot")).willReturn(new VehicleDetails("Honda", "Civic"));
		HtmlPage page = this.webClient.getPage("/sboot/vehicle.html");
		assertThat(page.getBody().getTextContent()).isEqualTo("Honda Civic");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_17_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_17_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.htmlunit.WebClient
import org.htmlunit.html.HtmlPage
import org.junit.jupiter.api.Test
import org.mockito.BDDMockito.given
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest
import org.springframework.test.context.bean.override.mockito.MockitoBean

</span><span class="fold-block">@WebMvcTest(UserVehicleController::class)
class MyHtmlUnitTests(@Autowired val webClient: WebClient) {

	@MockitoBean
	lateinit var userVehicleService: UserVehicleService

	@Test
	fun testExample() {
		given(userVehicleService.getVehicleDetails("sboot")).willReturn(VehicleDetails("Honda", "Civic"))
		val page = webClient.getPage&lt;HtmlPage&gt;("/sboot/vehicle.html")
		assertThat(page.body.textContent).isEqualTo("Honda Civic")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default, Spring Boot puts <a href="https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html" class="apiref"><code>WebDriver</code></a> beans in a special &#8220;scope&#8221; to ensure that the driver exits after each test and that a new instance is injected.
If you do not want this behavior, you can add <code>@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)</code> to your <a href="https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html" class="apiref"><code>WebDriver</code></a> <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Bean.html" class="apiref"><code>@Bean</code></a> definition.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The <code>webDriver</code> scope created by Spring Boot will replace any user defined scope of the same name.
If you define your own <code>webDriver</code> scope you may find it stops working when you use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have Spring Security on the classpath, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a> will also scan <a href="https://docs.spring.io/spring-security/site/docs/7.0.x/api/org/springframework/security/config/annotation/web/WebSecurityConfigurer.html" class="apiref"><code>WebSecurityConfigurer</code></a> beans.
Instead of disabling security completely for such tests, you can use Spring Security&#8217;s test support.
More details on how to use Spring Security&#8217;s <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> support can be found in this <a href="../../how-to/testing.html#howto.testing.with-spring-security" class="xref page">Testing With Spring Security</a> &#8220;How-to Guides&#8221; section.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Sometimes writing Spring MVC tests is not enough; Spring Boot can help you run <a href="#testing.spring-boot-applications.with-running-server">full end-to-end tests with an actual server</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.spring-webflux-tests"><a class="anchor" href="#testing.spring-boot-applications.spring-webflux-tests"></a>Auto-configured Spring WebFlux Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To test that <a href="https://docs.spring.io/spring-framework/reference/7.0/web-reactive.html">Spring WebFlux</a> controllers are working as expected, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> annotation from the <code>spring-boot-webflux-test</code> module.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> auto-configures the Spring WebFlux infrastructure and limits scanned beans to <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Controller.html" class="apiref"><code>@Controller</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html" class="apiref"><code>@ControllerAdvice</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson/JacksonComponent.html" class="apiref"><code>@JacksonComponent</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson2/JsonComponent.html" class="apiref"><code>@JsonComponent</code></a> (deprecated), <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/Converter.html" class="apiref"><code>Converter</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/GenericConverter.html" class="apiref"><code>GenericConverter</code></a> and <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/reactive/config/WebFluxConfigurer.html" class="apiref"><code>WebFluxConfigurer</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you need to register extra components, such as a <a href="https://javadoc.io/doc/tools.jackson.core/jackson-databind/3.0.2/tools/jackson/databind/JacksonModule.html" class="apiref"><code>JacksonModule</code></a>, you can import additional configuration classes using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> on your test.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Often, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> is limited to a single controller and used in combination with the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/bean/override/mockito/MockitoBean.html" class="apiref"><code>@MockitoBean</code></a> annotation to provide mock implementations for required collaborators.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> also auto-configures <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/webtestclient.html"><code>WebTestClient</code></a>, which offers a powerful way to quickly test WebFlux controllers without needing to start a full HTTP server.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also auto-configure <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a> in a non-<code>@WebFluxTest</code> (such as <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>) by annotating it with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/AutoConfigureWebTestClient.html" class="apiref"><code>@AutoConfigureWebTestClient</code></a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a class that uses both <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> and a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a>:</p>
</div>
<div id="_tabs_18" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_18_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_18_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_18_java--panel" class="tabpanel" aria-labelledby="_tabs_18_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.webflux.test.autoconfigure.WebFluxTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.bean.override.mockito.MockitoBean;
import org.springframework.test.web.reactive.server.WebTestClient;

import static org.mockito.BDDMockito.given;

</span><span class="fold-block">@WebFluxTest(UserVehicleController.class)
class MyControllerTests {

	@Autowired
	private WebTestClient webClient;

	@MockitoBean
	private UserVehicleService userVehicleService;

	@Test
	void testExample() {
		given(this.userVehicleService.getVehicleDetails("sboot"))
			.willReturn(new VehicleDetails("Honda", "Civic"));
		this.webClient.get().uri("/sboot/vehicle").accept(MediaType.TEXT_PLAIN).exchange()
			.expectStatus().isOk()
			.expectBody(String.class).isEqualTo("Honda Civic");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_18_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_18_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.mockito.BDDMockito.given
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.webflux.test.autoconfigure.WebFluxTest
import org.springframework.http.MediaType
import org.springframework.test.context.bean.override.mockito.MockitoBean
import org.springframework.test.web.reactive.server.WebTestClient
import org.springframework.test.web.reactive.server.expectBody

</span><span class="fold-block">@WebFluxTest(UserVehicleController::class)
class MyControllerTests(@Autowired val webClient: WebTestClient) {

	@MockitoBean
	lateinit var userVehicleService: UserVehicleService

	@Test
	fun testExample() {
		given(userVehicleService.getVehicleDetails("sboot"))
			.willReturn(VehicleDetails("Honda", "Civic"))
		webClient.get().uri("/sboot/vehicle").accept(MediaType.TEXT_PLAIN).exchange()
			.expectStatus().isOk
			.expectBody&lt;String&gt;().isEqualTo("Honda Civic")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This setup is only supported by WebFlux applications as using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a> in a mocked web application only works with WebFlux at the moment.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> cannot detect routes registered through the functional web framework.
For testing <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/reactive/function/server/RouterFunction.html" class="apiref"><code>RouterFunction</code></a> beans in the context, consider importing your <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/reactive/function/server/RouterFunction.html" class="apiref"><code>RouterFunction</code></a> yourself by using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> or by using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> cannot detect custom security configuration registered as a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Bean.html" class="apiref"><code>@Bean</code></a> of type <a href="https://docs.spring.io/spring-security/site/docs/7.0.x/api/org/springframework/security/web/server/SecurityWebFilterChain.html" class="apiref"><code>SecurityWebFilterChain</code></a>.
To include that in your test, you will need to import the configuration that registers the bean by using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> or by using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Sometimes writing Spring WebFlux tests is not enough; Spring Boot can help you run <a href="#testing.spring-boot-applications.with-running-server">full end-to-end tests with an actual server</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.spring-graphql-tests"><a class="anchor" href="#testing.spring-boot-applications.spring-graphql-tests"></a>Auto-configured Spring GraphQL Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring GraphQL offers a dedicated testing support module; you&#8217;ll need to add it to your project:</p>
</div>
<div class="listingblock">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencies&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;
		&lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;
		&lt;scope&gt;test&lt;/scope&gt;
	&lt;/dependency&gt;
	&lt;!-- Unless already present in the compile scope --&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
		&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;
		&lt;scope&gt;test&lt;/scope&gt;
	&lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">dependencies {
	testImplementation("org.springframework.graphql:spring-graphql-test")
	// Unless already present in the implementation configuration
	testImplementation("org.springframework.boot:spring-boot-starter-webflux")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This testing module ships the <a href="https://docs.spring.io/spring-graphql/reference/2.0/testing.html#testing.graphqltester">GraphQlTester</a>.
The tester is heavily used in test, so be sure to become familiar with using it.
There are <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/test/tester/GraphQlTester.html" class="apiref"><code>GraphQlTester</code></a> variants and Spring Boot will auto-configure them depending on the type of tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/test/tester/ExecutionGraphQlServiceTester.html" class="apiref"><code>ExecutionGraphQlServiceTester</code></a> performs tests on the server side, without a client nor a transport</p>
</li>
<li>
<p>the <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/test/tester/HttpGraphQlTester.html" class="apiref"><code>HttpGraphQlTester</code></a> performs tests with a client that connects to a server, with or without a live server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Spring Boot helps you to test your <a href="https://docs.spring.io/spring-graphql/reference/2.0/controllers.html">Spring GraphQL Controllers</a> with the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/GraphQlTest.html" class="apiref"><code>@GraphQlTest</code></a> annotation from the <code>spring-boot-graphql-test</code> module.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/GraphQlTest.html" class="apiref"><code>@GraphQlTest</code></a> auto-configures the Spring GraphQL infrastructure, without any transport nor server being involved.
This limits scanned beans to <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Controller.html" class="apiref"><code>@Controller</code></a>, <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/execution/RuntimeWiringConfigurer.html" class="apiref"><code>RuntimeWiringConfigurer</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson/JacksonComponent.html" class="apiref"><code>JacksonComponent</code></a>, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jackson2/JsonComponent.html" class="apiref"><code>@JsonComponent</code></a> (deprecated), <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/Converter.html" class="apiref"><code>Converter</code></a>, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/core/convert/converter/GenericConverter.html" class="apiref"><code>GenericConverter</code></a>, <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/execution/DataFetcherExceptionResolver.html" class="apiref"><code>DataFetcherExceptionResolver</code></a>, <a href="https://javadoc.io/doc/com.graphql-java/graphql-java/25.0/graphql/execution/instrumentation/Instrumentation.html" class="apiref"><code>Instrumentation</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/autoconfigure/GraphQlSourceBuilderCustomizer.html" class="apiref"><code>GraphQlSourceBuilderCustomizer</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/GraphQlTest.html" class="apiref"><code>@GraphQlTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/GraphQlTest.html" class="apiref"><code>@GraphQlTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Often, <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/GraphQlTest.html" class="apiref"><code>@GraphQlTest</code></a> is limited to a set of controllers and used in combination with the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/context/bean/override/mockito/MockitoBean.html" class="apiref"><code>@MockitoBean</code></a> annotation to provide mock implementations for required collaborators.</p>
</div>
<div id="_tabs_19" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_19_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_19_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_19_java--panel" class="tabpanel" aria-labelledby="_tabs_19_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.docs.web.graphql.runtimewiring.GreetingController;
import org.springframework.boot.graphql.test.autoconfigure.GraphQlTest;
import org.springframework.graphql.test.tester.GraphQlTester;

</span><span class="fold-block">@GraphQlTest(GreetingController.class)
class GreetingControllerTests {

	@Autowired
	private GraphQlTester graphQlTester;

	@Test
	void shouldGreetWithSpecificName() {
		this.graphQlTester.document("{ greeting(name: \"Alice\") } ")
			.execute()
			.path("greeting")
			.entity(String.class)
			.isEqualTo("Hello, Alice!");
	}

	@Test
	void shouldGreetWithDefaultName() {
		this.graphQlTester.document("{ greeting } ")
			.execute()
			.path("greeting")
			.entity(String.class)
			.isEqualTo("Hello, Spring!");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_19_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_19_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.docs.web.graphql.runtimewiring.GreetingController
import org.springframework.boot.graphql.test.autoconfigure.GraphQlTest
import org.springframework.graphql.test.tester.GraphQlTester

</span><span class="fold-block">@GraphQlTest(GreetingController::class)
internal class GreetingControllerTests {

	@Autowired
	lateinit var graphQlTester: GraphQlTester

	@Test
	fun shouldGreetWithSpecificName() {
		graphQlTester.document("{ greeting(name: \"Alice\") } ").execute().path("greeting").entity(String::class.java)
				.isEqualTo("Hello, Alice!")
	}

	@Test
	fun shouldGreetWithDefaultName() {
		graphQlTester.document("{ greeting } ").execute().path("greeting").entity(String::class.java)
				.isEqualTo("Hello, Spring!")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/context/SpringBootTest.html" class="apiref"><code>@SpringBootTest</code></a> tests are full integration tests and involve the entire application.
A <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/test/tester/HttpGraphQlTester.html" class="apiref"><code>HttpGraphQlTester</code></a> bean can be added by annotating your test class with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/graphql/test/autoconfigure/tester/AutoConfigureHttpGraphQlTester.html" class="apiref"><code>@AutoConfigureHttpGraphQlTester</code></a> from the <code>spring-boot-graphql-test</code> module:</p>
</div>
<div id="_tabs_20" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_20_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_20_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_20_java--panel" class="tabpanel" aria-labelledby="_tabs_20_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.graphql.test.autoconfigure.tester.AutoConfigureHttpGraphQlTester;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.graphql.test.tester.HttpGraphQlTester;

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureHttpGraphQlTester
class GraphQlIntegrationTests {

	@Test
	void shouldGreetWithSpecificName(@Autowired HttpGraphQlTester graphQlTester) {
		HttpGraphQlTester authenticatedTester = graphQlTester.mutate()
			.webTestClient((client) -&gt; client.defaultHeaders((headers) -&gt; headers.setBasicAuth("admin", "ilovespring")))
			.build();
		authenticatedTester.document("{ greeting(name: \"Alice\") } ")
			.execute()
			.path("greeting")
			.entity(String.class)
			.isEqualTo("Hello, Alice!");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_20_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_20_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.graphql.test.autoconfigure.tester.AutoConfigureHttpGraphQlTester
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment
import org.springframework.graphql.test.tester.HttpGraphQlTester
import org.springframework.http.HttpHeaders
import org.springframework.test.web.reactive.server.WebTestClient

</span><span class="fold-block">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
@AutoConfigureHttpGraphQlTester
class GraphQlIntegrationTests {

	@Test
	fun shouldGreetWithSpecificName(@Autowired graphQlTester: HttpGraphQlTester) {
		val authenticatedTester = graphQlTester.mutate()
			.webTestClient { client: WebTestClient.Builder -&gt;
				client.defaultHeaders { headers: HttpHeaders -&gt;
					headers.setBasicAuth("admin", "ilovespring")
				}
			}.build()
		authenticatedTester.document("{ greeting(name: \"Alice\") } ").execute()
			.path("greeting").entity(String::class.java).isEqualTo("Hello, Alice!")
	}
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <a href="https://docs.spring.io/spring-graphql/docs/2.0.x/api/org/springframework/graphql/test/tester/HttpGraphQlTester.html" class="apiref"><code>HttpGraphQlTester</code></a> bean uses the relevant transport of the integration test.
When using a random or defined port, the tester is configured against the live server.
To bind the tester to <code>MockMvc</code>, make sure to annotate your test class with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/AutoConfigureMockMvc.html" class="apiref"><code>@AutoConfigureMockMvc</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-cassandra"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-cassandra"></a>Auto-configured Data Cassandra Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/cassandra/test/autoconfigure/DataCassandraTest.html" class="apiref"><code>@DataCassandraTest</code></a> from the <code>spring-boot-data-cassandra-test</code> module to test Data Cassandra applications.
By default, it configures a <a href="https://docs.spring.io/spring-data/cassandra/docs/5.0.x/api/org/springframework/data/cassandra/core/CassandraTemplate.html" class="apiref"><code>CassandraTemplate</code></a>, scans for <a href="https://docs.spring.io/spring-data/cassandra/docs/5.0.x/api/org/springframework/data/cassandra/core/mapping/Table.html" class="apiref"><code>@Table</code></a> classes, and configures Spring Data Cassandra repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/cassandra/test/autoconfigure/DataCassandraTest.html" class="apiref"><code>@DataCassandraTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using Cassandra with Spring Boot, see <a href="../data/nosql.html#data.nosql.cassandra" class="xref page">Cassandra</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/cassandra/test/autoconfigure/DataCassandraTest.html" class="apiref"><code>@DataCassandraTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a typical setup for using Cassandra tests in Spring Boot:</p>
</div>
<div id="_tabs_21" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_21_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_21_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_21_java--panel" class="tabpanel" aria-labelledby="_tabs_21_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.cassandra.test.autoconfigure.DataCassandraTest;

</span><span class="fold-block">@DataCassandraTest
class MyDataCassandraTests {

	@Autowired
	private SomeRepository repository;

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_21_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_21_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.cassandra.test.autoconfigure.DataCassandraTest

</span><span class="fold-block">@DataCassandraTest
class MyDataCassandraTests(@Autowired val repository: SomeRepository)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-couchbase"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-couchbase"></a>Auto-configured Data Couchbase Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/couchbase/test/autoconfigure/DataCouchbaseTest.html" class="apiref"><code>@DataCouchbaseTest</code></a> from the <code>spring-boot-data-couchbase-test</code> module to test Data Couchbase applications.
By default, it configures a <a href="https://docs.spring.io/spring-data/couchbase/docs/6.0.x/api/org/springframework/data/couchbase/core/CouchbaseTemplate.html" class="apiref"><code>CouchbaseTemplate</code></a> or <a href="https://docs.spring.io/spring-data/couchbase/docs/6.0.x/api/org/springframework/data/couchbase/core/ReactiveCouchbaseTemplate.html" class="apiref"><code>ReactiveCouchbaseTemplate</code></a>, scans for <a href="https://docs.spring.io/spring-data/couchbase/docs/6.0.x/api/org/springframework/data/couchbase/core/mapping/Document.html" class="apiref"><code>@Document</code></a> classes, and configures Spring Data Couchbase repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/couchbase/test/autoconfigure/DataCouchbaseTest.html" class="apiref"><code>@DataCouchbaseTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using Couchbase with Spring Boot, see <a href="../data/nosql.html#data.nosql.couchbase" class="xref page">Couchbase</a>, earlier in this chapter.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/couchbase/test/autoconfigure/DataCouchbaseTest.html" class="apiref"><code>@DataCouchbaseTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a typical setup for using Couchbase tests in Spring Boot:</p>
</div>
<div id="_tabs_22" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_22_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_22_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_22_java--panel" class="tabpanel" aria-labelledby="_tabs_22_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.couchbase.test.autoconfigure.DataCouchbaseTest;

</span><span class="fold-block">@DataCouchbaseTest
class MyDataCouchbaseTests {

	@Autowired
	private SomeRepository repository;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_22_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_22_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.couchbase.test.autoconfigure.DataCouchbaseTest

</span><span class="fold-block">@DataCouchbaseTest
class MyDataCouchbaseTests(@Autowired val repository: SomeRepository) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-elasticsearch"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-elasticsearch"></a>Auto-configured Data Elasticsearch Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/elasticsearch/test/autoconfigure/DataElasticsearchTest.html" class="apiref"><code>@DataElasticsearchTest</code></a> from the <code>spring-boot-data-elasticsearch-test</code> module to test Data Elasticsearch applications.
By default, it configures an <a href="https://docs.spring.io/spring-data/elasticsearch/docs/6.0.x/api/org/springframework/data/elasticsearch/client/elc/ElasticsearchTemplate.html" class="apiref"><code>ElasticsearchTemplate</code></a>, scans for <a href="https://docs.spring.io/spring-data/elasticsearch/docs/6.0.x/api/org/springframework/data/elasticsearch/annotations/Document.html" class="apiref"><code>@Document</code></a> classes, and configures Spring Data Elasticsearch repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/elasticsearch/test/autoconfigure/DataElasticsearchTest.html" class="apiref"><code>@DataElasticsearchTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using Elasticsearch with Spring Boot, see <a href="../data/nosql.html#data.nosql.elasticsearch" class="xref page">Elasticsearch</a>, earlier in this chapter.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/elasticsearch/test/autoconfigure/DataElasticsearchTest.html" class="apiref"><code>@DataElasticsearchTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a typical setup for using Elasticsearch tests in Spring Boot:</p>
</div>
<div id="_tabs_23" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_23_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_23_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_23_java--panel" class="tabpanel" aria-labelledby="_tabs_23_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.elasticsearch.test.autoconfigure.DataElasticsearchTest;

</span><span class="fold-block">@DataElasticsearchTest
class MyDataElasticsearchTests {

	@Autowired
	private SomeRepository repository;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_23_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_23_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.elasticsearch.test.autoconfigure.DataElasticsearchTest

</span><span class="fold-block">@DataElasticsearchTest
class MyDataElasticsearchTests(@Autowired val repository: SomeRepository) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-jpa"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-jpa"></a>Auto-configured Data JPA Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a> annotation from the <code>spring-boot-data-jpa-test</code> module to test Data JPA applications.
By default, it scans for <a href="https://jakarta.ee/specifications/persistence/3.2/apidocs/jakarta.persistence/jakarta/persistence/Entity.html" class="apiref"><code>@Entity</code></a> classes and configures Spring Data JPA repositories.
If an embedded database is available on the classpath, it configures one as well.
SQL queries are logged by default by setting the <code>spring.jpa.show-sql</code> property to <code>true</code>.
This can be disabled using the <code>showSql</code> attribute of the annotation.</p>
</div>
<div class="paragraph">
<p>Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, data JPA tests are transactional and roll back at the end of each test.
See the <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/testcontext-framework/tx.html#testcontext-tx-enabling-transactions">relevant section</a> in the Spring Framework Reference Documentation for more details.
If that is not what you want, you can disable transaction management for a test or for the whole class as follows:</p>
</div>
<div id="_tabs_24" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_24_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_24_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_24_java--panel" class="tabpanel" aria-labelledby="_tabs_24_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

</span><span class="fold-block">@DataJpaTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyNonTransactionalTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_24_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_24_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest
import org.springframework.transaction.annotation.Propagation
import org.springframework.transaction.annotation.Transactional

</span><span class="fold-block">@DataJpaTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyNonTransactionalTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Data JPA tests may also inject a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jpa/test/autoconfigure/TestEntityManager.html" class="apiref"><code>TestEntityManager</code></a> bean, which provides an alternative to the standard JPA <a href="https://jakarta.ee/specifications/persistence/3.2/apidocs/jakarta.persistence/jakarta/persistence/EntityManager.html" class="apiref"><code>EntityManager</code></a> that is specifically designed for tests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jpa/test/autoconfigure/TestEntityManager.html" class="apiref"><code>TestEntityManager</code></a> can also be auto-configured to any of your Spring-based test class by adding <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jpa/test/autoconfigure/AutoConfigureTestEntityManager.html" class="apiref"><code>@AutoConfigureTestEntityManager</code></a>.
When doing so, make sure that your test is running in a transaction, for instance by adding  <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/transaction/annotation/Transactional.html" class="apiref"><code>@Transactional</code></a> on your test class or method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html" class="apiref"><code>JdbcTemplate</code></a> is also available if you need that.
The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_25" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_25_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_25_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_25_java--panel" class="tabpanel" aria-labelledby="_tabs_25_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest;
import org.springframework.boot.jpa.test.autoconfigure.TestEntityManager;

import static org.assertj.core.api.Assertions.assertThat;

</span><span class="fold-block">@DataJpaTest
class MyRepositoryTests {

	@Autowired
	private TestEntityManager entityManager;

	@Autowired
	private UserRepository repository;

	@Test
	void testExample() {
		this.entityManager.persist(new User("sboot", "1234"));
		User user = this.repository.findByUsername("sboot");
		assertThat(user.getUsername()).isEqualTo("sboot");
		assertThat(user.getEmployeeNumber()).isEqualTo("1234");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_25_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_25_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest
import org.springframework.boot.jpa.test.autoconfigure.TestEntityManager

</span><span class="fold-block">@DataJpaTest
class MyRepositoryTests(@Autowired val entityManager: TestEntityManager, @Autowired val repository: UserRepository) {

	@Test
	fun testExample() {
		entityManager.persist(User("sboot", "1234"))
		val user = repository.findByUsername("sboot")
		assertThat(user?.username).isEqualTo("sboot")
		assertThat(user?.employeeNumber).isEqualTo("1234")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In-memory embedded databases generally work well for tests, since they are fast and do not require any installation.
If, however, you prefer to run tests against a real database you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/AutoConfigureTestDatabase.html" class="apiref"><code>@AutoConfigureTestDatabase</code></a> annotation, as shown in the following example:</p>
</div>
<div id="_tabs_26" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_26_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_26_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_26_java--panel" class="tabpanel" aria-labelledby="_tabs_26_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest;
import org.springframework.boot.jdbc.test.autoconfigure.AutoConfigureTestDatabase;
import org.springframework.boot.jdbc.test.autoconfigure.AutoConfigureTestDatabase.Replace;

</span><span class="fold-block">@DataJpaTest
@AutoConfigureTestDatabase(replace = Replace.NONE)
class MyRepositoryTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_26_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_26_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.jdbc.test.autoconfigure.AutoConfigureTestDatabase
import org.springframework.boot.data.jpa.test.autoconfigure.DataJpaTest

</span><span class="fold-block">@DataJpaTest
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
class MyRepositoryTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-jdbc"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-jdbc"></a>Auto-configured JDBC Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a> from the <code>spring-boot-jdbc-test</code> module is similar to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jdbc/test/autoconfigure/DataJdbcTest.html" class="apiref"><code>@DataJdbcTest</code></a> but is for tests that only require a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html" class="apiref"><code>DataSource</code></a> and do not use Spring Data JDBC.
By default, it configures an in-memory embedded database and a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html" class="apiref"><code>JdbcTemplate</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, JDBC tests are transactional and roll back at the end of each test.
See the <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/testcontext-framework/tx.html#testcontext-tx-enabling-transactions">relevant section</a> in the Spring Framework Reference Documentation for more details.
If that is not what you want, you can disable transaction management for a test or for the whole class, as follows:</p>
</div>
<div id="_tabs_27" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_27_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_27_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_27_java--panel" class="tabpanel" aria-labelledby="_tabs_27_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.jdbc.test.autoconfigure.JdbcTest;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

</span><span class="fold-block">@JdbcTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyTransactionalTests {

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_27_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_27_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.jdbc.test.autoconfigure.JdbcTest
import org.springframework.transaction.annotation.Propagation
import org.springframework.transaction.annotation.Transactional

</span><span class="fold-block">@JdbcTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyTransactionalTests</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you prefer your test to run against a real database, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/AutoConfigureTestDatabase.html" class="apiref"><code>@AutoConfigureTestDatabase</code></a> annotation in the same way as for <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a>.
(See <a href="#testing.spring-boot-applications.autoconfigured-spring-data-jpa">Auto-configured Data JPA Tests</a>.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-jdbc"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-jdbc"></a>Auto-configured Data JDBC Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jdbc/test/autoconfigure/DataJdbcTest.html" class="apiref"><code>@DataJdbcTest</code></a> from the <code>spring-boot-data-jdbc-test</code> module is similar to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a> but is for tests that use Spring Data JDBC repositories.
By default, it configures an in-memory embedded database, a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html" class="apiref"><code>JdbcTemplate</code></a>, and Spring Data JDBC repositories.
Only <a href="https://docs.spring.io/spring-data/jdbc/docs/4.0.x/api/org/springframework/data/jdbc/repository/config/AbstractJdbcConfiguration.html" class="apiref"><code>AbstractJdbcConfiguration</code></a> subclasses are scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jdbc/test/autoconfigure/DataJdbcTest.html" class="apiref"><code>@DataJdbcTest</code></a> annotation is used, regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jdbc/test/autoconfigure/DataJdbcTest.html" class="apiref"><code>@DataJdbcTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, Data JDBC tests are transactional and roll back at the end of each test.
See the <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/testcontext-framework/tx.html#testcontext-tx-enabling-transactions">relevant section</a> in the Spring Framework Reference Documentation for more details.
If that is not what you want, you can disable transaction management for a test or for the whole test class as <a href="#testing.spring-boot-applications.autoconfigured-jdbc">shown in the JDBC example</a>.</p>
</div>
<div class="paragraph">
<p>If you prefer your test to run against a real database, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/AutoConfigureTestDatabase.html" class="apiref"><code>@AutoConfigureTestDatabase</code></a> annotation in the same way as for <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a>.
(See <a href="#testing.spring-boot-applications.autoconfigured-spring-data-jpa">Auto-configured Data JPA Tests</a>.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-r2dbc"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-r2dbc"></a>Auto-configured Data R2DBC Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/r2dbc/test/autoconfigure/DataR2dbcTest.html" class="apiref"><code>@DataR2dbcTest</code></a> from the <code>spring-boot-data-r2dbc-test</code> module is similar to <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jdbc/test/autoconfigure/DataJdbcTest.html" class="apiref"><code>@DataJdbcTest</code></a> but is for tests that use Spring Data R2DBC repositories.
By default, it configures an in-memory embedded database, an <a href="https://docs.spring.io/spring-data/r2dbc/docs/4.0.x/api/org/springframework/data/r2dbc/core/R2dbcEntityTemplate.html" class="apiref"><code>R2dbcEntityTemplate</code></a>, and Spring Data R2DBC repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/r2dbc/test/autoconfigure/DataR2dbcTest.html" class="apiref"><code>@DataR2dbcTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/r2dbc/test/autoconfigure/DataR2dbcTest.html" class="apiref"><code>@DataR2dbcTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, Data R2DBC tests are not transactional.</p>
</div>
<div class="paragraph">
<p>If you prefer your test to run against a real database, you can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/AutoConfigureTestDatabase.html" class="apiref"><code>@AutoConfigureTestDatabase</code></a> annotation in the same way as for <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a>.
(See <a href="#testing.spring-boot-applications.autoconfigured-spring-data-jpa">Auto-configured Data JPA Tests</a>.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-jooq"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-jooq"></a>Auto-configured jOOQ Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jooq/test/autoconfigure/JooqTest.html" class="apiref"><code>@JooqTest</code></a> from <code>spring-boot-jooq-test</code> in a similar fashion as <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a> but for jOOQ-related tests.
As jOOQ relies heavily on a Java-based schema that corresponds with the database schema, the existing <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html" class="apiref"><code>DataSource</code></a> is used.
If you want to replace it with an in-memory database, you can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/AutoConfigureTestDatabase.html" class="apiref"><code>@AutoConfigureTestDatabase</code></a> to override those settings.
(For more about using jOOQ with Spring Boot, see <a href="../data/sql.html#data.sql.jooq" class="xref page">Using jOOQ</a>.)
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jooq/test/autoconfigure/JooqTest.html" class="apiref"><code>@JooqTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configurations that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jooq/test/autoconfigure/JooqTest.html" class="apiref"><code>@JooqTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jooq/test/autoconfigure/JooqTest.html" class="apiref"><code>@JooqTest</code></a> configures a <a href="https://www.jooq.org/javadoc/3.19.28/org/jooq/DSLContext.html" class="apiref"><code>DSLContext</code></a>.
The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jooq/test/autoconfigure/JooqTest.html" class="apiref"><code>@JooqTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_28" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_28_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_28_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_28_java--panel" class="tabpanel" aria-labelledby="_tabs_28_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.jooq.DSLContext;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.jooq.test.autoconfigure.JooqTest;

</span><span class="fold-block">@JooqTest
class MyJooqTests {

	@Autowired
	private DSLContext dslContext;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_28_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_28_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.jooq.DSLContext
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.jooq.test.autoconfigure.JooqTest

</span><span class="fold-block">@JooqTest
class MyJooqTests(@Autowired val dslContext: DSLContext) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>JOOQ tests are transactional and roll back at the end of each test by default.
If that is not what you want, you can disable transaction management for a test or for the whole test class as <a href="#testing.spring-boot-applications.autoconfigured-jdbc">shown in the JDBC example</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-mongodb"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-mongodb"></a>Auto-configured Data MongoDB Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/mongodb/test/autoconfigure/DataMongoTest.html" class="apiref"><code>@DataMongoTest</code></a> from the <code>spring-boot-data-mongodb-test</code> module to test MongoDB applications.
By default, it configures a <a href="https://docs.spring.io/spring-data/mongodb/docs/5.0.x/api/org/springframework/data/mongodb/core/MongoTemplate.html" class="apiref"><code>MongoTemplate</code></a>, scans for <a href="https://docs.spring.io/spring-data/mongodb/docs/5.0.x/api/org/springframework/data/mongodb/core/mapping/Document.html" class="apiref"><code>@Document</code></a> classes, and configures Spring Data MongoDB repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/mongodb/test/autoconfigure/DataMongoTest.html" class="apiref"><code>@DataMongoTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using MongoDB with Spring Boot, see <a href="../data/nosql.html#data.nosql.mongodb" class="xref page">MongoDB</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/mongodb/test/autoconfigure/DataMongoTest.html" class="apiref"><code>@DataMongoTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following class shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/mongodb/test/autoconfigure/DataMongoTest.html" class="apiref"><code>@DataMongoTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_29" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_29_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_29_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_29_java--panel" class="tabpanel" aria-labelledby="_tabs_29_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.mongodb.test.autoconfigure.DataMongoTest;
import org.springframework.data.mongodb.core.MongoTemplate;

</span><span class="fold-block">@DataMongoTest
class MyDataMongoDbTests {

	@Autowired
	private MongoTemplate mongoTemplate;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_29_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_29_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.mongodb.test.autoconfigure.DataMongoTest
import org.springframework.data.mongodb.core.MongoTemplate

</span><span class="fold-block">@DataMongoTest
class MyDataMongoDbTests(@Autowired val mongoTemplate: MongoTemplate) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-neo4j"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-neo4j"></a>Auto-configured Data Neo4j Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/neo4j/test/autoconfigure/DataNeo4jTest.html" class="apiref"><code>@DataNeo4jTest</code></a> from the <code>spring-boot-data-neo4j-test</code> module to test Neo4j applications.
By default, it scans for <a href="https://docs.spring.io/spring-data/neo4j/docs/8.0.x/api/org/springframework/data/neo4j/core/schema/Node.html" class="apiref"><code>@Node</code></a> classes, and configures Spring Data Neo4j repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/neo4j/test/autoconfigure/DataNeo4jTest.html" class="apiref"><code>@DataNeo4jTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using Neo4J with Spring Boot, see <a href="../data/nosql.html#data.nosql.neo4j" class="xref page">Neo4j</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/neo4j/test/autoconfigure/DataNeo4jTest.html" class="apiref"><code>@DataNeo4jTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a typical setup for using Neo4J tests in Spring Boot:</p>
</div>
<div id="_tabs_30" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_30_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_30_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_30_java--panel" class="tabpanel" aria-labelledby="_tabs_30_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.neo4j.test.autoconfigure.DataNeo4jTest;

</span><span class="fold-block">@DataNeo4jTest
class MyDataNeo4jTests {

	@Autowired
	private SomeRepository repository;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_30_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_30_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.neo4j.test.autoconfigure.DataNeo4jTest

</span><span class="fold-block">@DataNeo4jTest
class MyDataNeo4jTests(@Autowired val repository: SomeRepository) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>By default, Data Neo4j tests are transactional and roll back at the end of each test.
See the <a href="https://docs.spring.io/spring-framework/reference/7.0/testing/testcontext-framework/tx.html#testcontext-tx-enabling-transactions">relevant section</a> in the Spring Framework Reference Documentation for more details.
If that is not what you want, you can disable transaction management for a test or for the whole class, as follows:</p>
</div>
<div id="_tabs_31" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_31_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_31_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_31_java--panel" class="tabpanel" aria-labelledby="_tabs_31_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.neo4j.test.autoconfigure.DataNeo4jTest;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

</span><span class="fold-block">@DataNeo4jTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyDataNeo4jTests {

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_31_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_31_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.neo4j.test.autoconfigure.DataNeo4jTest
import org.springframework.transaction.annotation.Propagation
import org.springframework.transaction.annotation.Transactional

</span><span class="fold-block">@DataNeo4jTest
@Transactional(propagation = Propagation.NOT_SUPPORTED)
class MyDataNeo4jTests</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Transactional tests are not supported with reactive access.
If you are using this style, you must configure <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/neo4j/test/autoconfigure/DataNeo4jTest.html" class="apiref"><code>@DataNeo4jTest</code></a> tests as described above.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-redis"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-redis"></a>Auto-configured Data Redis Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/redis/test/autoconfigure/DataRedisTest.html" class="apiref"><code>@DataRedisTest</code></a> from the <code>spring-boot-data-redis-test</code> module to test Data Redis applications.
By default, it scans for <a href="https://docs.spring.io/spring-data/redis/docs/4.0.x/api/org/springframework/data/redis/core/RedisHash.html" class="apiref"><code>@RedisHash</code></a> classes and configures Spring Data Redis repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/redis/test/autoconfigure/DataRedisTest.html" class="apiref"><code>@DataRedisTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using Redis with Spring Boot, see <a href="../data/nosql.html#data.nosql.redis" class="xref page">Redis</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/redis/test/autoconfigure/DataRedisTest.html" class="apiref"><code>@DataRedisTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/redis/test/autoconfigure/DataRedisTest.html" class="apiref"><code>@DataRedisTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_32" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_32_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_32_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_32_java--panel" class="tabpanel" aria-labelledby="_tabs_32_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.redis.test.autoconfigure.DataRedisTest;

</span><span class="fold-block">@DataRedisTest
class MyDataRedisTests {

	@Autowired
	private SomeRepository repository;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_32_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_32_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.redis.test.autoconfigure.DataRedisTest

</span><span class="fold-block">@DataRedisTest
class MyDataRedisTests(@Autowired val repository: SomeRepository) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-data-ldap"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-data-ldap"></a>Auto-configured Data LDAP Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/ldap/test/autoconfigure/DataLdapTest.html" class="apiref"><code>@DataLdapTest</code></a> to test Data LDAP applications.
By default, it configures an in-memory embedded LDAP (if available), configures an <a href="https://docs.spring.io/spring-ldap/docs/4.0.x/api/org/springframework/ldap/core/LdapTemplate.html" class="apiref"><code>LdapTemplate</code></a>, scans for <a href="https://docs.spring.io/spring-ldap/docs/4.0.x/api/org/springframework/ldap/odm/annotations/Entry.html" class="apiref"><code>@Entry</code></a> classes, and configures Spring Data LDAP repositories.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/ldap/test/autoconfigure/DataLdapTest.html" class="apiref"><code>@DataLdapTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.
(For more about using LDAP with Spring Boot, see <a href="../data/nosql.html#data.nosql.ldap" class="xref page">LDAP</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/ldap/test/autoconfigure/DataLdapTest.html" class="apiref"><code>@DataLdapTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/ldap/test/autoconfigure/DataLdapTest.html" class="apiref"><code>@DataLdapTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_33" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_33_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_33_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_33_java--panel" class="tabpanel" aria-labelledby="_tabs_33_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.data.ldap.test.autoconfigure.DataLdapTest;
import org.springframework.ldap.core.LdapTemplate;

</span><span class="fold-block">@DataLdapTest
class MyDataLdapTests {

	@Autowired
	private LdapTemplate ldapTemplate;

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_33_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_33_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.data.ldap.test.autoconfigure.DataLdapTest
import org.springframework.ldap.core.LdapTemplate

</span><span class="fold-block">@DataLdapTest
class MyDataLdapTests(@Autowired val ldapTemplate: LdapTemplate) {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In-memory embedded LDAP generally works well for tests, since it is fast and does not require any developer installation.
If, however, you prefer to run tests against a real LDAP server, you should exclude the embedded LDAP auto-configuration, as shown in the following example:</p>
</div>
<div id="_tabs_34" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_34_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_34_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_34_java--panel" class="tabpanel" aria-labelledby="_tabs_34_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.data.ldap.test.autoconfigure.DataLdapTest;
import org.springframework.boot.ldap.autoconfigure.embedded.EmbeddedLdapAutoConfiguration;

</span><span class="fold-block">@DataLdapTest(excludeAutoConfiguration = EmbeddedLdapAutoConfiguration.class)
class MyDataLdapTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_34_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_34_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.ldap.autoconfigure.embedded.EmbeddedLdapAutoConfiguration
import org.springframework.boot.data.ldap.test.autoconfigure.DataLdapTest

</span><span class="fold-block">@DataLdapTest(excludeAutoConfiguration = [EmbeddedLdapAutoConfiguration::class])
class MyDataLdapTests {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-rest-client"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-rest-client"></a>Auto-configured REST Clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restclient/test/autoconfigure/RestClientTest.html" class="apiref"><code>@RestClientTest</code></a> annotation from the <code>spring-boot-restclient-test</code> module to test REST clients.
By default, it auto-configures Jackson, GSON, and Jsonb support, configures a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/client/RestTemplateBuilder.html" class="apiref"><code>RestTemplateBuilder</code></a> and a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/client/RestClient.Builder.html" class="apiref"><code>RestClient.Builder</code></a>, and adds support for <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html" class="apiref"><code>MockRestServiceServer</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restclient/test/autoconfigure/RestClientTest.html" class="apiref"><code>@RestClientTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restclient/test/autoconfigure/RestClientTest.html" class="apiref"><code>@RestClientTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The specific beans that you want to test should be specified by using the <code>value</code> or <code>components</code> attribute of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restclient/test/autoconfigure/RestClientTest.html" class="apiref"><code>@RestClientTest</code></a>.</p>
</div>
<div class="paragraph">
<p>When using a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/client/RestTemplateBuilder.html" class="apiref"><code>RestTemplateBuilder</code></a> in the beans under test and <code>RestTemplateBuilder.rootUri(String rootUri)</code> has been called when building the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html" class="apiref"><code>RestTemplate</code></a>, then the root URI should be omitted from the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html" class="apiref"><code>MockRestServiceServer</code></a> expectations as shown in the following example:</p>
</div>
<div id="_tabs_35" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_35_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_35_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_35_java--panel" class="tabpanel" aria-labelledby="_tabs_35_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.restclient.test.autoconfigure.RestClientTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.client.MockRestServiceServer;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.test.web.client.match.MockRestRequestMatchers.requestTo;
import static org.springframework.test.web.client.response.MockRestResponseCreators.withSuccess;

</span><span class="fold-block">@RestClientTest(org.springframework.boot.docs.testing.springbootapplications.autoconfiguredrestclient.RemoteVehicleDetailsService.class)
class MyRestTemplateServiceTests {

	@Autowired
	private RemoteVehicleDetailsService service;

	@Autowired
	private MockRestServiceServer server;

	@Test
	void getVehicleDetailsWhenResultIsSuccessShouldReturnDetails() {
		this.server.expect(requestTo("/greet/details")).andRespond(withSuccess("hello", MediaType.TEXT_PLAIN));
		String greeting = this.service.callRestService();
		assertThat(greeting).isEqualTo("hello");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_35_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_35_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.restclient.test.autoconfigure.RestClientTest
import org.springframework.http.MediaType
import org.springframework.test.web.client.MockRestServiceServer
import org.springframework.test.web.client.match.MockRestRequestMatchers
import org.springframework.test.web.client.response.MockRestResponseCreators

</span><span class="fold-block">@RestClientTest(RemoteVehicleDetailsService::class)
class MyRestTemplateServiceTests(
	@Autowired val service: RemoteVehicleDetailsService,
	@Autowired val server: MockRestServiceServer) {

	@Test
	fun getVehicleDetailsWhenResultIsSuccessShouldReturnDetails() {
		server.expect(MockRestRequestMatchers.requestTo("/greet/details"))
			.andRespond(MockRestResponseCreators.withSuccess("hello", MediaType.TEXT_PLAIN))
		val greeting = service.callRestService()
		assertThat(greeting).isEqualTo("hello")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When using a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/client/RestClient.Builder.html" class="apiref"><code>RestClient.Builder</code></a> in the beans under test, or when using a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/web/client/RestTemplateBuilder.html" class="apiref"><code>RestTemplateBuilder</code></a> without calling <code>rootUri(String rootURI)</code>, the full URI must be used in the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html" class="apiref"><code>MockRestServiceServer</code></a> expectations as shown in the following example:</p>
</div>
<div id="_tabs_36" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_36_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_36_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_36_java--panel" class="tabpanel" aria-labelledby="_tabs_36_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.restclient.test.autoconfigure.RestClientTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.client.MockRestServiceServer;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.test.web.client.match.MockRestRequestMatchers.requestTo;
import static org.springframework.test.web.client.response.MockRestResponseCreators.withSuccess;

</span><span class="fold-block">@RestClientTest(RemoteVehicleDetailsService.class)
class MyRestClientServiceTests {

	@Autowired
	private RemoteVehicleDetailsService service;

	@Autowired
	private MockRestServiceServer server;

	@Test
	void getVehicleDetailsWhenResultIsSuccessShouldReturnDetails() {
		this.server.expect(requestTo("https://example.com/greet/details"))
			.andRespond(withSuccess("hello", MediaType.TEXT_PLAIN));
		String greeting = this.service.callRestService();
		assertThat(greeting).isEqualTo("hello");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_36_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_36_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.restclient.test.autoconfigure.RestClientTest
import org.springframework.http.MediaType
import org.springframework.test.web.client.MockRestServiceServer
import org.springframework.test.web.client.match.MockRestRequestMatchers
import org.springframework.test.web.client.response.MockRestResponseCreators

</span><span class="fold-block">@RestClientTest(RemoteVehicleDetailsService::class)
class MyRestClientServiceTests(
	@Autowired val service: RemoteVehicleDetailsService,
	@Autowired val server: MockRestServiceServer) {

	@Test
	fun getVehicleDetailsWhenResultIsSuccessShouldReturnDetails() {
		server.expect(MockRestRequestMatchers.requestTo("https://example.com/greet/details"))
			.andRespond(MockRestResponseCreators.withSuccess("hello", MediaType.TEXT_PLAIN))
		val greeting = service.callRestService()
		assertThat(greeting).isEqualTo("hello")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-web-client"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-web-client"></a>Auto-configured Web Clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webclient/test/autoconfigure/WebClientTest.html" class="apiref"><code>@WebClientTest</code></a> annotation from the <code>spring-boot-webclient-test</code> module to test code that uses <code>WebClient</code>.
By default, it auto-configures Jackson, GSON, and Jsonb support, and configures a <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html" class="apiref"><code>WebClient.Builder</code></a>.
Regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/stereotype/Component.html" class="apiref"><code>@Component</code></a> and <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans are not scanned when the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webclient/test/autoconfigure/WebClientTest.html" class="apiref"><code>@WebClientTest</code></a> annotation is used.
<a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/EnableConfigurationProperties.html" class="apiref"><code>@EnableConfigurationProperties</code></a> can be used to include <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/context/properties/ConfigurationProperties.html" class="apiref"><code>@ConfigurationProperties</code></a> beans.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webclient/test/autoconfigure/WebClientTest.html" class="apiref"><code>@WebClientTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The specific beans that you want to test should be specified by using the <code>value</code> or <code>components</code> attribute of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webclient/test/autoconfigure/WebClientTest.html" class="apiref"><code>@WebClientTest</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-spring-restdocs"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-restdocs"></a>Auto-configured Spring REST Docs Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a> annotation from the `spring-boot-restdocs- module to use <a href="https://spring.io/projects/spring-restdocs">Spring REST Docs</a> in your tests with Mock MVC or WebTestClient.
It removes the need for the JUnit extension in Spring REST Docs.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a> can be used to override the default output directory (<code>target/generated-snippets</code> if you are using Maven or <code>build/generated-snippets</code> if you are using Gradle).
It can also be used to configure the host, scheme, and port that appears in any documented URIs.</p>
</div>
<div class="sect2">
<h3 id="testing.spring-boot-applications.autoconfigured-spring-restdocs.with-mock-mvc"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-restdocs.with-mock-mvc"></a>Auto-configured Spring REST Docs Tests With Mock MVC</h3>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a> customizes the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> bean to use Spring REST Docs when testing servlet-based web applications.
You can inject it by using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html" class="apiref"><code>@Autowired</code></a> and use it in your tests as you normally would when using Mock MVC and Spring REST Docs, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.restdocs.test.autoconfigure.AutoConfigureRestDocs;
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.assertj.MockMvcTester;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document;

</span><span class="fold-block">@WebMvcTest(UserController.class)
@AutoConfigureRestDocs
class MyUserDocumentationTests {

	@Autowired
	private MockMvcTester mvc;

	@Test
	void listUsers() {
		assertThat(this.mvc.get().uri("/users").accept(MediaType.TEXT_PLAIN)).hasStatusOk()
			.apply(document("list-users"));
	}

}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer to use the AssertJ integration, <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/assertj/MockMvcTester.html" class="apiref"><code>MockMvcTester</code></a> is available as well, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.restdocs.test.autoconfigure.AutoConfigureRestDocs;
import org.springframework.boot.webmvc.test.autoconfigure.WebMvcTest;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.assertj.MockMvcTester;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document;

</span><span class="fold-block">@WebMvcTest(UserController.class)
@AutoConfigureRestDocs
class MyUserDocumentationTests {

	@Autowired
	private MockMvcTester mvc;

	@Test
	void listUsers() {
		assertThat(this.mvc.get().uri("/users").accept(MediaType.TEXT_PLAIN)).hasStatusOk()
			.apply(document("list-users"));
	}

}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Both reuses the same <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> instance behind the scenes so any configuration to it applies to both.</p>
</div>
<div class="paragraph">
<p>If you require more control over Spring REST Docs configuration than offered by the attributes of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a>, you can use a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/RestDocsMockMvcConfigurationCustomizer.html" class="apiref"><code>RestDocsMockMvcConfigurationCustomizer</code></a> bean, as shown in the following example:</p>
</div>
<div id="_tabs_37" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_37_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_37_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_37_java--panel" class="tabpanel" aria-labelledby="_tabs_37_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.restdocs.test.autoconfigure.RestDocsMockMvcConfigurationCustomizer;
import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.restdocs.mockmvc.MockMvcRestDocumentationConfigurer;
import org.springframework.restdocs.templates.TemplateFormats;

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
public class MyRestDocsConfiguration implements RestDocsMockMvcConfigurationCustomizer {

	@Override
	public void customize(MockMvcRestDocumentationConfigurer configurer) {
		configurer.snippets().withTemplateFormat(TemplateFormats.markdown());
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_37_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_37_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.restdocs.test.autoconfigure.RestDocsMockMvcConfigurationCustomizer
import org.springframework.boot.test.context.TestConfiguration
import org.springframework.restdocs.mockmvc.MockMvcRestDocumentationConfigurer
import org.springframework.restdocs.templates.TemplateFormats

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
class MyRestDocsConfiguration : RestDocsMockMvcConfigurationCustomizer {

	override fun customize(configurer: MockMvcRestDocumentationConfigurer) {
		configurer.snippets().withTemplateFormat(TemplateFormats.markdown())
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you want to make use of Spring REST Docs support for a parameterized output directory, you can create a <a href="https://docs.spring.io/spring-restdocs/docs/4.0.x/api/org/springframework/restdocs/mockmvc/RestDocumentationResultHandler.html" class="apiref"><code>RestDocumentationResultHandler</code></a> bean.
The auto-configuration calls <code>alwaysDo</code> with this result handler, thereby causing each <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/servlet/MockMvc.html" class="apiref"><code>MockMvc</code></a> call to automatically generate the default snippets.
The following example shows a <a href="https://docs.spring.io/spring-restdocs/docs/4.0.x/api/org/springframework/restdocs/mockmvc/RestDocumentationResultHandler.html" class="apiref"><code>RestDocumentationResultHandler</code></a> being defined:</p>
</div>
<div id="_tabs_38" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_38_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_38_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_38_java--panel" class="tabpanel" aria-labelledby="_tabs_38_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.context.annotation.Bean;
import org.springframework.restdocs.mockmvc.MockMvcRestDocumentation;
import org.springframework.restdocs.mockmvc.RestDocumentationResultHandler;

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
public class MyResultHandlerConfiguration {

	@Bean
	public RestDocumentationResultHandler restDocumentation() {
		return MockMvcRestDocumentation.document("{method-name}");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_38_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_38_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.TestConfiguration
import org.springframework.context.annotation.Bean
import org.springframework.restdocs.mockmvc.MockMvcRestDocumentation
import org.springframework.restdocs.mockmvc.RestDocumentationResultHandler

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
class MyResultHandlerConfiguration {

	@Bean
	fun restDocumentation(): RestDocumentationResultHandler {
		return MockMvcRestDocumentation.document("{method-name}")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testing.spring-boot-applications.autoconfigured-spring-restdocs.with-web-test-client"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-spring-restdocs.with-web-test-client"></a>Auto-configured Spring REST Docs Tests With WebTestClient</h3>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a> can also be used with <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/test/web/reactive/server/WebTestClient.html" class="apiref"><code>WebTestClient</code></a> when testing reactive web applications.
You can inject it by using <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html" class="apiref"><code>@Autowired</code></a> and use it in your tests as you normally would when using <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webflux/test/autoconfigure/WebFluxTest.html" class="apiref"><code>@WebFluxTest</code></a> and Spring REST Docs, as shown in the following example:</p>
</div>
<div id="_tabs_39" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_39_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_39_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_39_java--panel" class="tabpanel" aria-labelledby="_tabs_39_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.restdocs.test.autoconfigure.AutoConfigureRestDocs;
import org.springframework.boot.webflux.test.autoconfigure.WebFluxTest;
import org.springframework.test.web.reactive.server.WebTestClient;

import static org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation.document;

</span><span class="fold-block">@WebFluxTest
@AutoConfigureRestDocs
class MyUsersDocumentationTests {

	@Autowired
	private WebTestClient webTestClient;

	@Test
	void listUsers() {
		this.webTestClient
			.get().uri("/")
		.exchange()
		.expectStatus()
			.isOk()
		.expectBody()
			.consumeWith(document("list-users"));
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_39_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_39_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.restdocs.test.autoconfigure.AutoConfigureRestDocs
import org.springframework.boot.webflux.test.autoconfigure.WebFluxTest
import org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation
import org.springframework.test.web.reactive.server.WebTestClient

</span><span class="fold-block">@WebFluxTest
@AutoConfigureRestDocs
class MyUsersDocumentationTests(@Autowired val webTestClient: WebTestClient) {

	@Test
	fun listUsers() {
		webTestClient
			.get().uri("/")
			.exchange()
			.expectStatus()
			.isOk
			.expectBody()
			.consumeWith(WebTestClientRestDocumentation.document("list-users"))
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you require more control over Spring REST Docs configuration than offered by the attributes of <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/AutoConfigureRestDocs.html" class="apiref"><code>@AutoConfigureRestDocs</code></a>, you can use a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/restdocs/test/autoconfigure/RestDocsWebTestClientConfigurationCustomizer.html" class="apiref"><code>RestDocsWebTestClientConfigurationCustomizer</code></a> bean, as shown in the following example:</p>
</div>
<div id="_tabs_40" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_40_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_40_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_40_java--panel" class="tabpanel" aria-labelledby="_tabs_40_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.restdocs.test.autoconfigure.RestDocsWebTestClientConfigurationCustomizer;
import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.restdocs.webtestclient.WebTestClientRestDocumentationConfigurer;

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
public class MyRestDocsConfiguration implements RestDocsWebTestClientConfigurationCustomizer {

	@Override
	public void customize(WebTestClientRestDocumentationConfigurer configurer) {
		configurer.snippets().withEncoding("UTF-8");
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_40_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_40_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.restdocs.test.autoconfigure.RestDocsWebTestClientConfigurationCustomizer
import org.springframework.boot.test.context.TestConfiguration
import org.springframework.restdocs.webtestclient.WebTestClientRestDocumentationConfigurer

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
class MyRestDocsConfiguration : RestDocsWebTestClientConfigurationCustomizer {

	override fun customize(configurer: WebTestClientRestDocumentationConfigurer) {
		configurer.snippets().withEncoding("UTF-8")
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you want to make use of Spring REST Docs support for a parameterized output directory, you can use a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/web/reactive/server/WebTestClientBuilderCustomizer.html" class="apiref"><code>WebTestClientBuilderCustomizer</code></a> to configure a consumer for every entity exchange result.
The following example shows such a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/test/web/reactive/server/WebTestClientBuilderCustomizer.html" class="apiref"><code>WebTestClientBuilderCustomizer</code></a> being defined:</p>
</div>
<div id="_tabs_41" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_41_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_41_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_41_java--panel" class="tabpanel" aria-labelledby="_tabs_41_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.boot.webtestclient.autoconfigure.WebTestClientBuilderCustomizer;
import org.springframework.context.annotation.Bean;

import static org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation.document;

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
public class MyWebTestClientBuilderCustomizerConfiguration {

	@Bean
	public WebTestClientBuilderCustomizer restDocumentation() {
		return (builder) -&gt; builder.entityExchangeResultConsumer(document("{method-name}"));
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_41_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_41_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.test.context.TestConfiguration
import org.springframework.boot.webtestclient.autoconfigure.WebTestClientBuilderCustomizer
import org.springframework.context.annotation.Bean
import org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation
import org.springframework.test.web.reactive.server.WebTestClient

</span><span class="fold-block">@TestConfiguration(proxyBeanMethods = false)
class MyWebTestClientBuilderCustomizerConfiguration {

	@Bean
	fun restDocumentation(): WebTestClientBuilderCustomizer {
		return WebTestClientBuilderCustomizer { builder: WebTestClient.Builder -&gt;
			builder.entityExchangeResultConsumer(
				WebTestClientRestDocumentation.document("{method-name}")
			)
		}
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.autoconfigured-webservices"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-webservices"></a>Auto-configured Spring Web Services Tests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="testing.spring-boot-applications.autoconfigured-webservices.client"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-webservices.client"></a>Auto-configured Spring Web Services Client Tests</h3>
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/client/WebServiceClientTest.html" class="apiref"><code>@WebServiceClientTest</code></a> from the <code>spring-boot-webservices-test</code> module to test applications that call web services using the Spring Web Services project.
By default, it configures a <a href="https://docs.spring.io/spring-ws/docs/5.0.x/api/org/springframework/ws/test/client/MockWebServiceServer.html" class="apiref"><code>MockWebServiceServer</code></a> bean and automatically customizes your <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/client/WebServiceTemplateBuilder.html" class="apiref"><code>WebServiceTemplateBuilder</code></a>.
(For more about using Web Services with Spring Boot, see <a href="../io/webservices.html" class="xref page">Web Services</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/client/WebServiceClientTest.html" class="apiref"><code>@WebServiceClientTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/client/WebServiceClientTest.html" class="apiref"><code>@WebServiceClientTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_42" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_42_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_42_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_42_java--panel" class="tabpanel" aria-labelledby="_tabs_42_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.webservices.test.autoconfigure.client.WebServiceClientTest;
import org.springframework.ws.test.client.MockWebServiceServer;
import org.springframework.xml.transform.StringSource;

import static org.assertj.core.api.Assertions.assertThat;
import static org.springframework.ws.test.client.RequestMatchers.payload;
import static org.springframework.ws.test.client.ResponseCreators.withPayload;

</span><span class="fold-block">@WebServiceClientTest(SomeWebService.class)
class MyWebServiceClientTests {

	@Autowired
	private MockWebServiceServer server;

	@Autowired
	private SomeWebService someWebService;

	@Test
	void mockServerCall() {
		this.server
			.expect(payload(new StringSource("&lt;request/&gt;")))
			.andRespond(withPayload(new StringSource("&lt;response&gt;&lt;status&gt;200&lt;/status&gt;&lt;/response&gt;")));
		assertThat(this.someWebService.test())
			.extracting(Response::getStatus)
			.isEqualTo(200);
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_42_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_42_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.webservices.test.autoconfigure.client.WebServiceClientTest
import org.springframework.ws.test.client.MockWebServiceServer
import org.springframework.ws.test.client.RequestMatchers
import org.springframework.ws.test.client.ResponseCreators
import org.springframework.xml.transform.StringSource

</span><span class="fold-block">@WebServiceClientTest(SomeWebService::class)
class MyWebServiceClientTests(
		@Autowired val server: MockWebServiceServer, @Autowired val someWebService: SomeWebService) {

	@Test
	fun mockServerCall() {
		server
			.expect(RequestMatchers.payload(StringSource("&lt;request/&gt;")))
			.andRespond(ResponseCreators.withPayload(StringSource("&lt;response&gt;&lt;status&gt;200&lt;/status&gt;&lt;/response&gt;")))
		assertThat(this.someWebService.test()).extracting(Response::status).isEqualTo(200)
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testing.spring-boot-applications.autoconfigured-webservices.server"><a class="anchor" href="#testing.spring-boot-applications.autoconfigured-webservices.server"></a>Auto-configured Spring Web Services Server Tests</h3>
<div class="paragraph">
<p>You can use <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/server/WebServiceServerTest.html" class="apiref"><code>@WebServiceServerTest</code></a> from the <code>spring-boot-webservices-test</code> module to test applications that implement web services using the Spring Web Services project.
By default, it configures a <a href="https://docs.spring.io/spring-ws/docs/5.0.x/api/org/springframework/ws/test/server/MockWebServiceClient.html" class="apiref"><code>MockWebServiceClient</code></a> bean that can be used to call your web service endpoints.
(For more about using Web Services with Spring Boot, see <a href="../io/webservices.html" class="xref page">Web Services</a>.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A list of the auto-configuration settings that are enabled by <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/server/WebServiceServerTest.html" class="apiref"><code>@WebServiceServerTest</code></a> can be <a href="../../appendix/test-auto-configuration/index.html" class="xref page">found in the appendix</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows the <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webservices/test/autoconfigure/server/WebServiceServerTest.html" class="apiref"><code>@WebServiceServerTest</code></a> annotation in use:</p>
</div>
<div id="_tabs_43" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_43_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_43_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_43_java--panel" class="tabpanel" aria-labelledby="_tabs_43_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.webservices.test.autoconfigure.server.WebServiceServerTest;
import org.springframework.ws.test.server.MockWebServiceClient;
import org.springframework.ws.test.server.RequestCreators;
import org.springframework.ws.test.server.ResponseMatchers;
import org.springframework.xml.transform.StringSource;

</span><span class="fold-block">@WebServiceServerTest(ExampleEndpoint.class)
class MyWebServiceServerTests {

	@Autowired
	private MockWebServiceClient client;

	@Test
	void mockServerCall() {
		this.client
			.sendRequest(RequestCreators.withPayload(new StringSource("&lt;ExampleRequest/&gt;")))
			.andExpect(ResponseMatchers.payload(new StringSource("&lt;ExampleResponse&gt;42&lt;/ExampleResponse&gt;")));
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_43_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_43_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.webservices.test.autoconfigure.server.WebServiceServerTest
import org.springframework.ws.test.server.MockWebServiceClient
import org.springframework.ws.test.server.RequestCreators
import org.springframework.ws.test.server.ResponseMatchers
import org.springframework.xml.transform.StringSource

</span><span class="fold-block">@WebServiceServerTest(ExampleEndpoint::class)
class MyWebServiceServerTests(@Autowired val client: MockWebServiceClient) {

	@Test
	fun mockServerCall() {
		client
			.sendRequest(RequestCreators.withPayload(StringSource("&lt;ExampleRequest/&gt;")))
			.andExpect(ResponseMatchers.payload(StringSource("&lt;ExampleResponse&gt;42&lt;/ExampleResponse&gt;")))
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.additional-autoconfiguration-and-slicing"><a class="anchor" href="#testing.spring-boot-applications.additional-autoconfiguration-and-slicing"></a>Additional Auto-configuration and Slicing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each slice provides one or more <code>@AutoConfigure&#8230;&#8203;</code> annotations that namely defines the auto-configurations that should be included as part of a slice.
Additional auto-configurations can be added on a test-by-test basis by creating a custom <code>@AutoConfigure&#8230;&#8203;</code> annotation or by adding <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/ImportAutoConfiguration.html" class="apiref"><code>@ImportAutoConfiguration</code></a> to the test as shown in the following example:</p>
</div>
<div id="_tabs_44" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_44_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_44_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_44_java--panel" class="tabpanel" aria-labelledby="_tabs_44_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.ImportAutoConfiguration;
import org.springframework.boot.integration.autoconfigure.IntegrationAutoConfiguration;
import org.springframework.boot.jdbc.test.autoconfigure.JdbcTest;

</span><span class="fold-block">@JdbcTest
@ImportAutoConfiguration(IntegrationAutoConfiguration.class)
class MyJdbcTests {

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_44_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_44_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.ImportAutoConfiguration
import org.springframework.boot.integration.autoconfigure.IntegrationAutoConfiguration
import org.springframework.boot.jdbc.test.autoconfigure.JdbcTest

</span><span class="fold-block">@JdbcTest
@ImportAutoConfiguration(IntegrationAutoConfiguration::class)
class MyJdbcTests</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure to not use the regular <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> annotation to import auto-configurations as they are handled in a specific way by Spring Boot.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, additional auto-configurations can be added for any use of a slice annotation by registering them in a file stored in <code>META-INF/spring</code> as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="title">META-INF/spring/org.springframework.boot.jdbc.test.autoconfigure.JdbcTest.imports</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">com.example.IntegrationAutoConfiguration</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the <code>com.example.IntegrationAutoConfiguration</code> is enabled on every test annotated with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/jdbc/test/autoconfigure/JdbcTest.html" class="apiref"><code>@JdbcTest</code></a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can use comments with <code>#</code> in this file.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A slice or <code>@AutoConfigure&#8230;&#8203;</code> annotation can be customized this way as long as it is meta-annotated with <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/ImportAutoConfiguration.html" class="apiref"><code>@ImportAutoConfiguration</code></a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing.spring-boot-applications.user-configuration-and-slicing"><a class="anchor" href="#testing.spring-boot-applications.user-configuration-and-slicing"></a>User Configuration and Slicing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you <a href="../using/structuring-your-code.html" class="xref page">structure your code</a> in a sensible way, your <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a> class is <a href="#testing.spring-boot-applications.detecting-configuration">used by default</a> as the configuration of your tests.</p>
</div>
<div class="paragraph">
<p>It then becomes important not to litter the application&#8217;s main class with configuration settings that are specific to a particular area of its functionality.</p>
</div>
<div class="paragraph">
<p>Assume that you are using Spring Data MongoDB, you rely on the auto-configuration for it, and you have enabled auditing.
You could define your <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/autoconfigure/SpringBootApplication.html" class="apiref"><code>@SpringBootApplication</code></a> as follows:</p>
</div>
<div id="_tabs_45" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_45_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_45_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_45_java--panel" class="tabpanel" aria-labelledby="_tabs_45_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.data.mongodb.config.EnableMongoAuditing;

</span><span class="fold-block">@SpringBootApplication
@EnableMongoAuditing
public class MyApplication {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_45_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_45_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.SpringBootApplication
import org.springframework.data.mongodb.config.EnableMongoAuditing

</span><span class="fold-block">@SpringBootApplication
@EnableMongoAuditing
class MyApplication {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Because this class is the source configuration for the test, any slice test actually tries to enable Mongo auditing, which is definitely not what you want to do.
A recommended approach is to move that area-specific configuration to a separate <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> class at the same level as your application, as shown in the following example:</p>
</div>
<div id="_tabs_46" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_46_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_46_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_46_java--panel" class="tabpanel" aria-labelledby="_tabs_46_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.context.annotation.Configuration;
import org.springframework.data.mongodb.config.EnableMongoAuditing;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
@EnableMongoAuditing
public class MyMongoConfiguration {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_46_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_46_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.context.annotation.Configuration
import org.springframework.data.mongodb.config.EnableMongoAuditing

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
@EnableMongoAuditing
class MyMongoConfiguration {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Depending on the complexity of your application, you may either have a single <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> class for your customizations or one class per domain area.
The latter approach lets you enable it in one of your tests, if necessary, with the <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Import.html" class="apiref"><code>@Import</code></a> annotation.
See <a href="../../how-to/testing.html#howto.testing.slice-tests" class="xref page">this how-to section</a> for more details on when you might want to enable specific <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> classes for slice tests.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Test slices exclude <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/context/annotation/Configuration.html" class="apiref"><code>@Configuration</code></a> classes from scanning.
For example, for a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/webmvc/test/autoconfigure/WebMvcTest.html" class="apiref"><code>@WebMvcTest</code></a>, the following configuration will not include the given <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html" class="apiref"><code>WebMvcConfigurer</code></a> bean in the application context loaded by the test slice:</p>
</div>
<div id="_tabs_47" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_47_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_47_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_47_java--panel" class="tabpanel" aria-labelledby="_tabs_47_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyWebConfiguration {

	@Bean
	public WebMvcConfigurer testConfigurer() {
		return new WebMvcConfigurer() {
			// ...
		};
	}

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_47_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_47_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.context.annotation.Bean
import org.springframework.context.annotation.Configuration
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
class MyWebConfiguration {

	@Bean
	fun testConfigurer(): WebMvcConfigurer {
		return object : WebMvcConfigurer {
			// ...
		}
	}

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The configuration below will, however, cause the custom <a href="https://docs.spring.io/spring-framework/docs/7.0.x/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html" class="apiref"><code>WebMvcConfigurer</code></a> to be loaded by the test slice.</p>
</div>
<div id="_tabs_48" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_48_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_48_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_48_java--panel" class="tabpanel" aria-labelledby="_tabs_48_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.stereotype.Component;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

</span><span class="fold-block">@Component
public class MyWebMvcConfigurer implements WebMvcConfigurer {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_48_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_48_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.stereotype.Component
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer

</span><span class="fold-block">@Component
class MyWebMvcConfigurer : WebMvcConfigurer {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Another source of confusion is classpath scanning.
Assume that, while you structured your code in a sensible way, you need to scan an additional package.
Your application may resemble the following code:</p>
</div>
<div id="_tabs_49" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_49_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_49_kotlin" class="tab">
<p>Kotlin</p>
</li>
</ul>
</div>
<div id="_tabs_49_java--panel" class="tabpanel" aria-labelledby="_tabs_49_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.ComponentScan;

</span><span class="fold-block">@SpringBootApplication
@ComponentScan({ "com.example.app", "com.example.another" })
public class MyApplication {

	// ...

}</span></code></pre>
</div>
</div>
</div>
<div id="_tabs_49_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_49_kotlin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block is-hidden-folded">import org.springframework.boot.autoconfigure.SpringBootApplication
import org.springframework.context.annotation.ComponentScan

</span><span class="fold-block">@SpringBootApplication
@ComponentScan("com.example.app", "com.example.another")
class MyApplication {

	// ...

}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Doing so effectively overrides the default component scan directive with the side effect of scanning those two packages regardless of the slice that you chose.
For instance, a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/data/jpa/test/autoconfigure/DataJpaTest.html" class="apiref"><code>@DataJpaTest</code></a> seems to suddenly scan components and user configurations of your application.
Again, moving the custom directive to a separate class is a good way to fix this issue.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If this is not an option for you, you can create a <a href="https://docs.spring.io/spring-boot/4.0.0/api/java/org/springframework/boot/SpringBootConfiguration.html" class="apiref"><code>@SpringBootConfiguration</code></a> somewhere in the hierarchy of your test so that it is used instead.
Alternatively, you can specify a source for your test, which disables the behavior of finding a default one.
</td>
</tr>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="spring-applications.html">Testing Spring Applications</a></span>
  <span class="next"><a href="testcontainers.html">Testcontainers</a></span>
</nav>
</article>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">

                  <ul class="nav-versions">
                      <li class="component">
                        <div>
                          <a class="title" href="../../index.html">Spring Boot</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../index.html">
      4.0.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                  </ul>
                </div>
                <div class="col-right">
                  <ul class="projects">
  <li>
    Related Spring Documentation
    <ul class="projects-list">
        <li>
<a href="https://docs.spring.io/spring-boot/">
  Spring Boot
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-framework/reference/">
  Spring Framework
</a>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
  Spring Cloud
<ul>
    <li>
<a href="https://docs.spring.io/spring-cloud-build/reference/">
  Spring Cloud Build
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-bus/reference/">
  Spring Cloud Bus
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-circuitbreaker/reference/">
  Spring Cloud Circuit Breaker
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-commons/reference/">
  Spring Cloud Commons
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-config/reference/">
  Spring Cloud Config
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-consul/reference/">
  Spring Cloud Consul
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-contract/reference/">
  Spring Cloud Contract
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-function/reference/">
  Spring Cloud Function
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-gateway/reference/">
  Spring Cloud Gateway
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-kubernetes/reference/">
  Spring Cloud Kubernetes
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-netflix/reference/">
  Spring Cloud Netflix
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-openfeign/reference/">
  Spring Cloud OpenFeign
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-stream/reference/">
  Spring Cloud Stream
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-task/reference/">
  Spring Cloud Task
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-vault/reference/">
  Spring Cloud Vault
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-zookeeper/reference/">
  Spring Cloud Zookeeper
</a>
</li>
</ul>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
  Spring Data
<ul>
    <li>
<a href="https://docs.spring.io/spring-data/cassandra/reference/">
  Spring Data Cassandra
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/commons/reference/">
  Spring Data Commons
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/couchbase/reference/">
  Spring Data Couchbase
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/elasticsearch/reference/">
  Spring Data Elasticsearch
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/jpa/reference/">
  Spring Data JPA
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/keyvalue/reference/">
  Spring Data KeyValue
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/ldap/reference/">
  Spring Data LDAP
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/mongodb/reference/">
  Spring Data MongoDB
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/neo4j/reference/">
  Spring Data Neo4j
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/redis/reference/">
  Spring Data Redis
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/relational/reference/">
  Spring Data JDBC &amp; R2DBC
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/rest/reference/">
  Spring Data REST
</a>
</li>
</ul>
</li>
        <li>
<a href="https://docs.spring.io/spring-integration/reference/">
  Spring Integration
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-batch/reference/">
  Spring Batch
</a>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
<a href="https://docs.spring.io/spring-security/reference/">
  Spring Security
</a>
<ul>
    <li>
<a href="https://docs.spring.io/spring-authorization-server/reference/">
  Spring Authorization Server
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-ldap/reference/">
  Spring LDAP
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-security-kerberos/reference/">
  Spring Security Kerberos
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-session/reference/">
  Spring Session
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-vault/reference/">
  Spring Vault
</a>
</li>
</ul>
</li>
        <li>
<a href="https://docs.spring.io/spring-ai/reference/">
  Spring AI
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-amqp/reference/">
  Spring AMQP
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-cli/reference/">
  Spring CLI
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-graphql/reference/">
  Spring GraphQL
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-kafka/reference/">
  Spring for Apache Kafka
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-modulith/reference/">
  Spring Modulith
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-pulsar/reference/">
  Spring for Apache Pulsar
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-shell/reference/">
  Spring Shell
</a>
</li>
    </ul>
  </li
  <li><a href="../../spring-projects.html">All Docs...</a></li>
</ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div>

</div>
<footer class="footer flex">
    <div id="spring-links flex">
        <img id="springlogo" src="../../_/img/spring-logo.svg" alt="Spring">
        <p class="smallest antialiased">Copyright  2005 - <script>var d = new Date();
        document.write(d.getFullYear());</script> Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.<br /><a href="https://www.vmware.com/help/legal.html">Terms of Use</a>  <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a>  <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile"> <a href="https://spring.io/thank-you">Thank you</a></span>  <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a>  <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
        <p class="smallest antialiased has-gray-text">Apache, Apache Tomcat, Apache Kafka, Apache Cassandra&trade;, and Apache Geode&trade; are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java&trade;, Java&trade; SE, Java&trade; EE, and OpenJDK&trade; are trademarks of Oracle and/or its affiliates. Kubernetes is a registered trademark of the Linux Foundation in the United States and other countries. Linux is the registered trademark of Linus Torvalds in the United States and other countries. Windows and Microsoft Azure are registered trademarks of Microsoft Corporation. AWS and Amazon Web Services are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
    </div>
    <div id="social-icons" class="flex jc-between">
        <a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube"><svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle class="cls-1" cx="20" cy="20" r="20"/><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z"/></svg></a>
        <a href="https://github.com/spring-projects" title="GitHub"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"/></g><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"/></svg></a>
        <a href="https://twitter.com/springcentral" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"/><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"/></svg></a>
    </div>
</footer>
<script src="../../_/js/vendor/import.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/asciidoctor-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  </body>
</html>
